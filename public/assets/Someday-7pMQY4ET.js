import{u as C,a as E,T as _}from"./TaskModal-B55KCxFV.js";import{T as S}from"./TaskList-CrHxFWI7.js";import{T as V}from"./TaskView-BrVF4aAH.js";import{r as B}from"./PlusIcon-oQ6LBAea.js";import{k as p,r as d,c as u,a as t,f as m,F as M,l as N,z as x,e as F,o as r}from"./index-B634NUMo.js";import"./workspace-CIP9uA8U.js";import"./projects-DzhQE-MD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"p-4 lg:p-8"},j={class:"max-w-4xl mx-auto"},z={key:0,class:"text-center py-12"},A={key:1,class:"text-center py-12"},L={class:"max-w-md mx-auto"},q={class:"w-16 h-16 mx-auto mb-4 rounded-full bg-purple-50 dark:bg-purple-900/30 flex items-center justify-center"},U={__name:"Someday",setup(G){const l=C(),v=p(()=>l.somedayTasks),g=p(()=>l.loading),o=d(!1),n=d(!1),s=d(null),i=d(""),f=a=>{s.value=a,n.value=!0},y=()=>{s.value=null,o.value=!0},T=()=>{n.value=!1,o.value=!0},w=async a=>{try{a.status==="completed"?await l.updateTask(a.id,{status:"someday"}):await l.completeTask(a.id)}catch(e){console.error("Error toggling task:",e)}},h=async a=>{var e,c;i.value="";try{s.value?await l.updateTask(s.value.id,a):await l.createTask(a),o.value=!1,s.value=null}catch(k){console.error("Error saving task:",k),i.value=((c=(e=k.response)==null?void 0:e.data)==null?void 0:c.message)||k.message||"Ошибка при сохранении задачи"}},b=()=>{o.value=!1,s.value=null,i.value=""};return(a,e)=>(r(),u("div",$,[t("div",j,[e[5]||(e[5]=t("div",{class:"mb-6"},[t("h1",{class:"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-white"},"Когда-нибудь")],-1)),g.value?(r(),u("div",z,[...e[1]||(e[1]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):(r(),u(M,{key:1},[v.value.length>0?(r(),N(S,{key:0,tasks:v.value,onTaskClick:f,onToggleComplete:w},null,8,["tasks"])):(r(),u("div",A,[t("div",L,[t("div",q,[m(x(E),{class:"w-8 h-8 text-purple-500"})]),e[3]||(e[3]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Список «когда-нибудь» пуст",-1)),e[4]||(e[4]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed"}," Сюда попадают идеи и мечты, которые вы не готовы реализовать сейчас, но не хотите забыть. Выучить язык, написать книгу, поехать в путешествие — всё, что «было бы неплохо». Просматривайте этот список при еженедельном обзоре. ",-1)),t("button",{onClick:y,class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors"},[m(x(B),{class:"w-5 h-5 mr-1.5"}),e[2]||(e[2]=F(" Добавить идею ",-1))])])]))],64)),m(V,{show:n.value,task:s.value,onClose:e[0]||(e[0]=c=>{n.value=!1,s.value=null}),onEnterEdit:T},null,8,["show","task"]),m(_,{show:o.value,task:s.value,"server-error":i.value,onClose:b,onSubmit:h},null,8,["show","task","server-error"])])]))}};export{U as default};
