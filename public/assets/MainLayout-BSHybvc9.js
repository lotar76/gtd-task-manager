import{c as l,o as r,a as e,j as ye,k as M,h as pe,l as ee,g as S,b as $,m as ze,n as Oe,p as F,t as w,r as c,f,w as V,q as Pe,s as ne,x as le,T as X,y as me,d as re,z as ae,v as ke,A as xe,e as R,B as jt,u as Ve,F as Y,C as te,D as Me,i as _t}from"./index-DARtzBY4.js";import{u as ge}from"./workspace-CT6nSM7Z.js";import{r as _e,a as He,b as Ge,c as Ie,d as Re,e as qe,u as St,T as Dt}from"./TaskModal-BIlBZZXN.js";import{u as Et}from"./projects-D094yu9W.js";import{r as Tt}from"./RectangleStackIcon-DQrDKQuk.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as At}from"./style-kio3AkJQ.js";import{P as Lt}from"./ProjectModal-Cuc6yw06.js";import{G as Bt}from"./GoalModal-BLUDzrOc.js";import{u as Wt}from"./goals-BJQeUNzD.js";import{u as Ft}from"./lifeSpheres-Cp-dWg_N.js";function zt(m,D){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Ot(m,D){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function se(m,D){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}const Pt={class:"flex items-center space-x-2.5"},je={__name:"NavLink",props:{to:{type:String,required:!0},icon:{type:String,default:"folder"},count:{type:Number,default:null}},emits:["close-sidebar"],setup(m,{emit:D}){const k=m,E=D,C=ye(),u=ge(),b=()=>{window.innerWidth<1024&&E("close-sidebar")},h={inbox:qe,lightning:Re,calendar:Ie,clock:Ge,archive:_e,folder:se,"calendar-days":He,target:se,"rectangle-stack":Tt,cog:Ot,"chart-bar":zt,"archive-box":_e},L=M(()=>h[k.icon]||se),d=M(()=>{var i;const g=(i=u.currentWorkspace)==null?void 0:i.id;return k.to.replace(":id",g||"1")}),s=M(()=>C.path===d.value);return(g,i)=>{const z=pe("router-link");return r(),ee(z,{to:d.value,onClick:b,class:F(["flex items-center justify-between px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",s.value?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},{default:S(()=>[e("div",Pt,[(r(),ee(ze(L.value),{class:"w-5 h-5"})),e("span",null,[Oe(g.$slots,"default")])]),m.count!==null&&m.count>0?(r(),l("span",{key:0,class:F(["px-2 py-0.5 text-xs font-semibold rounded-full",s.value?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"])},w(m.count),3)):$("",!0)]),_:3},8,["to","class"])}}},Vt={class:"flex items-center space-x-2.5"},ve={__name:"DroppableNavLink",props:{to:{type:String,required:!0},icon:{type:String,default:"folder"},count:{type:Number,default:null},dropStatus:{type:String,default:null}},emits:["task-dropped","close-sidebar"],setup(m,{emit:D}){const k=m,E=D,C=ye(),u=ge(),b=c(!1),h=()=>{window.innerWidth<1024&&E("close-sidebar")},L={inbox:qe,lightning:Re,calendar:Ie,clock:Ge,archive:_e,folder:se,"calendar-days":He,target:se},d=M(()=>L[k.icon]||se),s=M(()=>{var O;const W=(O=u.currentWorkspace)==null?void 0:O.id;return k.to.replace(":id",W||"1")}),g=M(()=>C.path===s.value),i=W=>{W.preventDefault(),b.value=!0,W.dataTransfer.dropEffect="move"},z=()=>{b.value=!1},A=W=>{W.preventDefault(),b.value=!1;try{const O=JSON.parse(W.dataTransfer.getData("application/json"));k.dropStatus&&O&&E("task-dropped",{taskId:O.id,newStatus:k.dropStatus})}catch(O){console.error("Error handling drop:",O)}};return(W,O)=>{const p=pe("router-link");return r(),l("div",{onDrop:A,onDragover:V(i,["prevent"]),onDragleave:z,class:F(["rounded-lg transition-all",b.value?"bg-primary-100 dark:bg-primary-900/40 ring-2 ring-primary-500":""])},[f(p,{to:s.value,onClick:h,class:F(["flex items-center justify-between px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",g.value?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},{default:S(()=>[e("div",Vt,[(r(),ee(ze(d.value),{class:"w-5 h-5"})),e("span",null,[Oe(W.$slots,"default")])]),m.count!==null&&m.count>0?(r(),l("span",{key:0,class:F(["px-2 py-0.5 text-xs font-semibold rounded-full",g.value?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"])},w(m.count),3)):$("",!0)]),_:3},8,["to","class"])],34)}}},Ue="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%20width='300'%20height='300'%3e%3ccircle%20cx='150'%20cy='150'%20r='150'%20fill='%23E84848'/%3e%3ccircle%20cx='150'%20cy='150'%20r='115'%20fill='%23FFFFFF'/%3e%3ccircle%20cx='150'%20cy='150'%20r='90'%20fill='%23E84848'/%3e%3ccircle%20cx='150'%20cy='150'%20r='60'%20fill='%23FFFFFF'/%3e%3ccircle%20cx='150'%20cy='150'%20r='30'%20fill='%23E84848'/%3e%3c/svg%3e",Qe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%20width='300'%20height='300'%3e%3ccircle%20cx='150'%20cy='150'%20r='150'%20fill='%23E84848'/%3e%3ccircle%20cx='150'%20cy='150'%20r='115'%20fill='%23FFFFFF'/%3e%3ccircle%20cx='150'%20cy='150'%20r='90'%20fill='%23E84848'/%3e%3ccircle%20cx='150'%20cy='150'%20r='60'%20fill='%23FFFFFF'/%3e%3ccircle%20cx='150'%20cy='150'%20r='30'%20fill='%23E84848'/%3e%3c/svg%3e",Ht={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-20"},Gt={class:"flex items-center justify-between px-4 lg:px-8 py-3"},It={class:"lg:hidden flex items-center gap-2"},Rt=["src"],qt={key:0,class:"absolute -top-0.5 -right-0.5 min-w-[16px] h-4 px-1 text-[10px] font-bold text-white bg-red-500 rounded-full flex items-center justify-center"},Ut={class:"text-sm font-medium text-gray-700 dark:text-gray-300 ml-1"},Qt={class:"hidden lg:flex items-center space-x-1 ml-4"},Nt={class:"flex items-center space-x-2 lg:space-x-4 ml-4"},Zt={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 py-2 z-50"},Kt=["title"],Jt={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xt={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Yt={class:"relative"},eo={class:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center text-white text-sm font-medium"},to={class:"hidden lg:block text-left"},oo={class:"text-sm font-medium text-gray-900 dark:text-white"},so={class:"text-xs text-gray-500 dark:text-gray-400"},ro={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 py-2"},ao={__name:"Toolbar",props:{user:{type:Object,default:null},inboxCount:{type:Number,default:0}},emits:["quick-add","quick-add-task","quick-add-project","quick-add-goal","search","logout","profile","settings"],setup(m,{emit:D}){const k=ye(),E=Pe(),C=ge(),u=M(()=>E.isDark?Qe:Ue),b=m,h=M(()=>{var a;return`/workspaces/${((a=C.currentWorkspace)==null?void 0:a.id)||1}/inbox`}),L=M(()=>k.path==="/"),d=M(()=>k.path===h.value),s=D;c("");const g=c(!1),i=c(!1),z=c(null),A=M(()=>{var a;return(((a=b.user)==null?void 0:a.name)||"").split(" ").map(P=>P[0]).join("").toUpperCase().slice(0,2)}),W=M(()=>{const j=new Date,a=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],P=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],oe=a[j.getDay()],K=j.getDate(),de=P[j.getMonth()];return`${oe}, ${K} ${de}`}),O=()=>{i.value=!i.value},p=()=>{i.value=!1,s("quick-add-task")},v=()=>{i.value=!1,s("quick-add-project")},_=()=>{i.value=!1,s("quick-add-goal")},H=j=>{z.value&&!z.value.contains(j.target)&&(i.value=!1)},q=j=>{j.key==="Escape"&&(i.value=!1,g.value=!1)};ne(()=>{document.addEventListener("click",H),document.addEventListener("keydown",q)}),le(()=>{document.removeEventListener("click",H),document.removeEventListener("keydown",q)});const I=()=>{g.value=!1,s("logout")},G=()=>{g.value=!1,s("profile")},U=()=>{g.value=!1,s("settings")},Z={mounted(j,a){j.clickOutsideEvent=P=>{j===P.target||j.contains(P.target)||a.value()},document.addEventListener("click",j.clickOutsideEvent)},unmounted(j){document.removeEventListener("click",j.clickOutsideEvent)}};return(j,a)=>{var oe,K;const P=pe("router-link");return r(),l("header",Ht,[e("div",Gt,[e("div",It,[e("img",{src:u.value,alt:"GTD TODO",class:"h-8 w-8 object-contain"},null,8,Rt),f(P,{to:"/",class:F(["p-1.5 rounded-lg transition-colors",L.value?"text-primary-600 dark:text-primary-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"])},{default:S(()=>[...a[2]||(a[2]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)])]),_:1},8,["class"]),f(P,{to:h.value,class:F(["relative p-1.5 rounded-lg transition-colors",d.value?"text-primary-600 dark:text-primary-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"])},{default:S(()=>[a[3]||(a[3]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),m.inboxCount>0?(r(),l("span",qt,w(m.inboxCount),1)):$("",!0)]),_:1},8,["to","class"]),e("span",Ut,w(W.value),1)]),e("nav",Qt,[f(P,{to:"/",class:F(["flex items-center space-x-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",L.value?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},{default:S(()=>[...a[4]||(a[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),e("span",null,"Дашборд",-1)])]),_:1},8,["class"]),f(P,{to:h.value,class:F(["flex items-center space-x-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",d.value?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},{default:S(()=>[a[5]||(a[5]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),a[6]||(a[6]=e("span",null,"Входящие",-1)),m.inboxCount>0?(r(),l("span",{key:0,class:F(["px-1.5 py-0.5 text-xs font-semibold rounded-full",d.value?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"])},w(m.inboxCount),3)):$("",!0)]),_:1},8,["to","class"])]),a[18]||(a[18]=e("div",{class:"flex-1"},null,-1)),e("div",Nt,[e("div",{class:"relative hidden lg:block",ref_key:"quickAddMenuContainer",ref:z},[e("button",{onClick:V(O,["stop"]),class:"inline-flex items-center px-3 lg:px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 focus:ring-primary-500 transition-colors"},[...a[7]||(a[7]=[e("svg",{class:"w-5 h-5 lg:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden lg:inline"},"Создать",-1)])]),f(X,{name:"dropdown"},{default:S(()=>[i.value?(r(),l("div",Zt,[e("button",{onClick:p,class:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},[...a[8]||(a[8]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),e("span",null,"Задачу")],-1)])]),e("button",{onClick:v,class:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},[...a[9]||(a[9]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})]),e("span",null,"Поток")],-1)])]),e("button",{onClick:_,class:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},[...a[10]||(a[10]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})]),e("span",null,"Цель")],-1)])])])):$("",!0)]),_:1})],512),e("button",{onClick:a[0]||(a[0]=de=>me(E).toggleTheme()),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:me(E).isDark?"Светлая тема":"Тёмная тема"},[me(E).isDark?(r(),l("svg",Jt,[...a[11]||(a[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(r(),l("svg",Xt,[...a[12]||(a[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],8,Kt),e("div",Yt,[e("button",{onClick:a[1]||(a[1]=V(de=>g.value=!g.value,["stop"])),class:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[e("div",eo,w(A.value),1),e("div",to,[e("div",oo,w((oe=m.user)==null?void 0:oe.name),1),e("div",so,w((K=m.user)==null?void 0:K.email),1)]),a[13]||(a[13]=e("svg",{class:"hidden lg:block w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),g.value?re((r(),l("div",ro,[e("button",{onClick:G,class:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},[...a[14]||(a[14]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("span",null,"Профиль")],-1)])]),e("button",{onClick:U,class:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},[...a[15]||(a[15]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]),e("span",null,"Настройки")],-1)])]),a[17]||(a[17]=e("div",{class:"border-t border-gray-200 dark:border-gray-600 my-2"},null,-1)),e("button",{onClick:I,class:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},[...a[16]||(a[16]=[e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})]),e("span",null,"Выйти")],-1)])])])),[[Z,()=>g.value=!1]]):$("",!0)])])])])}}},no=ie(ao,[["__scopeId","data-v-46af909d"]]),lo="/assets/logo-D4KoLT79.jpg",io="/assets/logo-bg-CxxxX31b.png",co={class:"flex min-h-screen items-center justify-center p-4"},uo={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},vo={class:"flex items-center gap-2"},po={class:"relative"},go={key:0,class:"absolute top-12 left-0 z-10 emoji-picker-mono"},mo={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},ko={class:"flex justify-end space-x-3 pt-4"},yo=["disabled"],xo={__name:"WorkspaceModal",props:{show:{type:Boolean,default:!1}},emits:["close","submit"],setup(m,{emit:D}){const k=m,E=D,C=g=>{g.key==="Escape"&&k.show&&E("close")};ne(()=>document.addEventListener("keydown",C)),le(()=>document.removeEventListener("keydown",C));const u=c({name:"",emoji:"",description:""}),b=c(!1),h=c(""),L=c(!1),d=g=>{u.value.emoji=g.i,L.value=!1};ae(()=>k.show,g=>{g||(u.value={name:"",emoji:"",description:""},b.value=!1,h.value="",L.value=!1)});const s=()=>{h.value="",b.value=!0,E("submit",u.value)};return(g,i)=>(r(),ee(xe,{to:"body"},[f(X,{name:"modal"},{default:S(()=>[m.show?(r(),l("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:i[6]||(i[6]=V(z=>g.$emit("close"),["self"]))},[i[11]||(i[11]=e("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),e("div",co,[e("div",{class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-auto",onClick:i[5]||(i[5]=V(()=>{},["stop"]))},[e("div",uo,[i[8]||(i[8]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Новое рабочее пространство ",-1)),e("button",{onClick:i[0]||(i[0]=z=>g.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...i[7]||(i[7]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:V(s,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[i[9]||(i[9]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Название * ",-1)),e("div",vo,[e("div",po,[e("button",{type:"button",onClick:i[1]||(i[1]=z=>L.value=!L.value),class:"emoji-btn flex-shrink-0 w-10 h-10 flex items-center justify-center text-xl border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Выбрать иконку"},w(u.value.emoji||"◆"),1),L.value?(r(),l("div",go,[f(me(At),{native:!0,"disable-skin-tones":!0,"display-recent":!0,onSelect:d})])):$("",!0)]),re(e("input",{id:"name","onUpdate:modelValue":i[2]||(i[2]=z=>u.value.name=z),type:"text",required:"",class:"input flex-1",placeholder:"Например: Команда разработки"},null,512),[[ke,u.value.name]])])]),e("div",null,[i[10]||(i[10]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Описание ",-1)),re(e("textarea",{id:"description","onUpdate:modelValue":i[3]||(i[3]=z=>u.value.description=z),rows:"3",class:"input",placeholder:"Краткое описание рабочего пространства"},null,512),[[ke,u.value.description]])]),h.value?(r(),l("div",mo,w(h.value),1)):$("",!0),e("div",ko,[e("button",{type:"button",onClick:i[4]||(i[4]=z=>g.$emit("close")),class:"btn btn-secondary"}," Отмена "),e("button",{type:"submit",disabled:b.value,class:"btn btn-primary"},w(b.value?"Создание...":"Создать"),9,yo)])],32)])])])):$("",!0)]),_:1})]))}},fo=ie(xo,[["__scopeId","data-v-c9d491f3"]]),bo={class:"flex min-h-screen items-center justify-center p-4"},ho={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},wo={class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},Co={class:"font-medium"},$o={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},Mo={class:"flex justify-end space-x-3 pt-4"},jo=["disabled"],_o={__name:"AddMemberModal",props:{show:{type:Boolean,default:!1},workspace:{type:Object,default:null}},emits:["close","submit"],setup(m,{emit:D}){const k=m,E=D,C=d=>{d.key==="Escape"&&k.show&&E("close")};ne(()=>document.addEventListener("keydown",C)),le(()=>document.removeEventListener("keydown",C));const u=c({email:"",role:"member"}),b=c(!1),h=c("");ae(()=>k.show,d=>{d||(u.value={email:"",role:"member"},b.value=!1,h.value="")});const L=()=>{var d;h.value="",b.value=!0,E("submit",{...u.value,workspace_id:(d=k.workspace)==null?void 0:d.id})};return(d,s)=>(r(),ee(xe,{to:"body"},[f(X,{name:"modal"},{default:S(()=>{var g;return[m.show?(r(),l("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:s[5]||(s[5]=V(i=>d.$emit("close"),["self"]))},[s[12]||(s[12]=e("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),e("div",bo,[e("div",{class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-auto",onClick:s[4]||(s[4]=V(()=>{},["stop"]))},[e("div",ho,[s[7]||(s[7]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Добавить пользователя ",-1)),e("button",{onClick:s[0]||(s[0]=i=>d.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...s[6]||(s[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:V(L,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[e("p",wo,[s[8]||(s[8]=R(" Workspace: ",-1)),e("span",Co,w((g=m.workspace)==null?void 0:g.name),1)])]),e("div",null,[s[9]||(s[9]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email пользователя * ",-1)),re(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=i=>u.value.email=i),type:"email",required:"",class:"input",placeholder:"user@example.com"},null,512),[[ke,u.value.email]])]),e("div",null,[s[11]||(s[11]=e("label",{for:"role",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Роль ",-1)),re(e("select",{id:"role","onUpdate:modelValue":s[2]||(s[2]=i=>u.value.role=i),class:"input"},[...s[10]||(s[10]=[e("option",{value:"viewer"},"Просмотр",-1),e("option",{value:"member"},"Участник",-1),e("option",{value:"admin"},"Администратор",-1)])],512),[[jt,u.value.role]])]),h.value?(r(),l("div",$o,w(h.value),1)):$("",!0),e("div",Mo,[e("button",{type:"button",onClick:s[3]||(s[3]=i=>d.$emit("close")),class:"btn btn-secondary"}," Отмена "),e("button",{type:"submit",disabled:b.value,class:"btn btn-primary"},w(b.value?"Добавление...":"Добавить"),9,jo)])],32)])])])):$("",!0)]}),_:1})]))}},So=ie(_o,[["__scopeId","data-v-72cbffa0"]]),Do={class:"flex min-h-screen items-center justify-center p-4"},Eo={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},To={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},Ao={class:"flex justify-end space-x-3 pt-4"},Lo=["disabled"],Bo={__name:"RenameWorkspaceModal",props:{show:{type:Boolean,default:!1},workspace:{type:Object,default:null}},emits:["close","submit"],setup(m,{emit:D}){const k=m,E=D,C=d=>{d.key==="Escape"&&k.show&&E("close")};ne(()=>document.addEventListener("keydown",C)),le(()=>document.removeEventListener("keydown",C));const u=c({name:""}),b=c(!1),h=c("");ae(()=>k.workspace,d=>{d&&(u.value.name=d.name)},{immediate:!0}),ae(()=>k.show,d=>{d||(b.value=!1,h.value="")});const L=()=>{h.value="",b.value=!0,E("submit",u.value.name)};return(d,s)=>(r(),ee(xe,{to:"body"},[f(X,{name:"modal"},{default:S(()=>[m.show?(r(),l("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:s[4]||(s[4]=V(g=>d.$emit("close"),["self"]))},[s[8]||(s[8]=e("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),e("div",Do,[e("div",{class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-auto",onClick:s[3]||(s[3]=V(()=>{},["stop"]))},[e("div",Eo,[s[6]||(s[6]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Переименовать workspace ",-1)),e("button",{onClick:s[0]||(s[0]=g=>d.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...s[5]||(s[5]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:V(L,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[s[7]||(s[7]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Новое название * ",-1)),re(e("input",{id:"name","onUpdate:modelValue":s[1]||(s[1]=g=>u.value.name=g),type:"text",required:"",class:"input",placeholder:"Название workspace"},null,512),[[ke,u.value.name]])]),h.value?(r(),l("div",To,w(h.value),1)):$("",!0),e("div",Ao,[e("button",{type:"button",onClick:s[2]||(s[2]=g=>d.$emit("close")),class:"btn btn-secondary"}," Отмена "),e("button",{type:"submit",disabled:b.value,class:"btn btn-primary"},w(b.value?"Сохранение...":"Сохранить"),9,Lo)])],32)])])])):$("",!0)]),_:1})]))}},Wo=ie(Bo,[["__scopeId","data-v-9efc4d3d"]]),Fo={class:"flex min-h-screen items-center justify-center p-4"},zo={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},Oo={class:"p-6"},Po={key:0,class:"text-center py-8"},Vo={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Ho={key:2,class:"space-y-3"},Go={class:"flex items-center space-x-3"},Io={class:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center text-white text-sm font-medium"},Ro={class:"font-medium text-gray-900 dark:text-white"},qo={class:"text-sm text-gray-500 dark:text-gray-400"},Uo={class:"flex items-center space-x-3"},Qo=["onClick","disabled"],No={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Zo={key:1,class:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-red-600"},Ko={key:0,class:"px-6 pb-4"},Jo={class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},Xo={class:"flex justify-end p-6 border-t border-gray-200 dark:border-gray-700"},Yo={__name:"MembersModal",props:{show:{type:Boolean,default:!1},workspace:{type:Object,default:null}},emits:["close","member-removed"],setup(m,{emit:D}){const k=m,E=D,C=p=>{p.key==="Escape"&&k.show&&E("close")};ne(()=>document.addEventListener("keydown",C)),le(()=>document.removeEventListener("keydown",C));const u=ge(),b=Ve(),h=c([]),L=c(!1),d=c(""),s=c(null),g=p=>p?p.split(" ").map(v=>v[0]).join("").toUpperCase().substring(0,2):"?",i=p=>({owner:"Владелец",admin:"Администратор",member:"Участник",viewer:"Наблюдатель"})[p]||p,z=p=>({owner:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",admin:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",member:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",viewer:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"})[p]||"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400",A=p=>{var q,I,G,U,Z,j,a;const v=(q=b.user)==null?void 0:q.id,_=((I=k.workspace)==null?void 0:I.owner_id)===v,H=((j=(Z=(U=(G=k.workspace)==null?void 0:G.members)==null?void 0:U.find(P=>P.id===v))==null?void 0:Z.pivot)==null?void 0:j.role)==="admin";return((a=k.workspace)==null?void 0:a.owner_id)===p.id||p.id===v?!1:_||H},W=async()=>{var p;if((p=k.workspace)!=null&&p.id){L.value=!0,d.value="";try{const v=await u.fetchMembers(k.workspace.id);h.value=v.members||v||[]}catch(v){console.error("Error loading members:",v),d.value="Ошибка при загрузке участников"}finally{L.value=!1}}},O=async p=>{var v,_;if(confirm(`Вы уверены, что хотите удалить ${p.name} из workspace?`)){s.value=p.id,d.value="";try{await u.removeMember(k.workspace.id,p.id),await W(),E("member-removed",p)}catch(H){console.error("Error removing member:",H),d.value=((_=(v=H.response)==null?void 0:v.data)==null?void 0:_.message)||"Ошибка при удалении участника"}finally{s.value=null}}};return ae(()=>k.show,p=>{p?W():(h.value=[],d.value="",s.value=null)}),ae(()=>{var p;return(p=k.workspace)==null?void 0:p.id},()=>{k.show&&W()}),(p,v)=>(r(),ee(xe,{to:"body"},[f(X,{name:"modal"},{default:S(()=>[m.show?(r(),l("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:v[3]||(v[3]=V(_=>p.$emit("close"),["self"]))},[v[8]||(v[8]=e("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),e("div",Fo,[e("div",{class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-auto",onClick:v[2]||(v[2]=V(()=>{},["stop"]))},[e("div",zo,[v[5]||(v[5]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Участники workspace ",-1)),e("button",{onClick:v[0]||(v[0]=_=>p.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...v[4]||(v[4]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Oo,[L.value?(r(),l("div",Po,[...v[6]||(v[6]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):h.value.length===0?(r(),l("div",Vo," Нет участников ")):(r(),l("div",Ho,[(r(!0),l(Y,null,te(h.value,_=>{var H,q,I,G;return r(),l("div",{key:_.id,class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},[e("div",Go,[e("div",Io,w(g(_.name)),1),e("div",null,[e("div",Ro,w(_.name),1),e("div",qo,w(_.email),1)])]),e("div",Uo,[e("span",{class:F(["px-3 py-1 text-xs font-medium rounded-full",z(((H=_.pivot)==null?void 0:H.role)||(((q=m.workspace)==null?void 0:q.owner_id)===_.id?"owner":"member"))])},w(i(((I=_.pivot)==null?void 0:I.role)||(((G=m.workspace)==null?void 0:G.owner_id)===_.id?"owner":"member"))),3),A(_)?(r(),l("button",{key:0,onClick:U=>O(_),class:"text-red-600 hover:text-red-700 p-2 rounded transition-colors",disabled:s.value===_.id,title:"Удалить из workspace"},[s.value!==_.id?(r(),l("svg",No,[...v[7]||(v[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])):(r(),l("div",Zo))],8,Qo)):$("",!0)])])}),128))]))]),d.value?(r(),l("div",Ko,[e("div",Jo,w(d.value),1)])):$("",!0),e("div",Xo,[e("button",{onClick:v[1]||(v[1]=_=>p.$emit("close")),class:"btn btn-secondary"}," Закрыть ")])])])])):$("",!0)]),_:1})]))}},es=ie(Yo,[["__scopeId","data-v-e1a886d2"]]),ts={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},os={key:0,class:"fixed inset-0 z-[100] bg-white dark:bg-gray-900 flex items-center justify-center"},ss={class:"text-center"},rs={class:"mb-6 flex justify-center"},as=["src"],ns={class:"text-sm text-gray-500 dark:text-gray-400 flex justify-center"},ls={class:"flex h-screen"},is={class:"flex flex-col h-full"},ds={class:"hidden lg:flex items-center justify-between px-5 py-3 border-b border-gray-200 dark:border-gray-700"},cs={class:"flex items-center space-x-3"},us=["src"],vs={class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700"},ps={class:"flex items-center justify-between mb-2"},gs={class:"space-y-1"},ms=["onClick"],ks={key:0,class:"mr-1 grayscale"},ys={class:"flex-1 overflow-y-auto px-4 py-3"},xs={class:"space-y-1"},fs={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},bs={class:"space-y-1"},hs={class:"flex-1 min-w-0"},ws={key:0,class:"text-[10px] text-gray-400 dark:text-gray-500 truncate mt-0.5"},Cs=["title"],$s={class:"text-[10px] text-gray-400 ml-0.5"},Ms={key:0,class:"px-3 py-1.5 text-sm text-gray-500 text-center"},js={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},_s={class:"space-y-1"},Ss={class:"flex-1 min-w-0"},Ds={key:0,class:"text-[10px] text-gray-400 dark:text-gray-500 mt-0.5"},Es={key:0,class:"text-[10px] text-primary-600 dark:text-primary-400 font-medium ml-2"},Ts={key:0,class:"px-3 py-1.5 text-sm text-gray-500 text-center"},As={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},Ls={class:"space-y-1"},Bs={key:1,class:"fixed bottom-5 right-5 z-30 lg:hidden flex flex-col gap-3 items-center"},Ws={class:"relative"},Fs={class:"flex-1 flex flex-col overflow-hidden"},zs={class:"flex-1 overflow-auto"},Os={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},Ps={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-sm w-full p-6"},Vs={class:"text-sm text-gray-500 dark:text-gray-400 mb-6"},Hs={__name:"MainLayout",setup(m){const D=_t(),k=ye(),E=Ve(),C=ge(),u=St(),b=Et(),h=Wt(),L=Ft(),d=Pe(),s=M(()=>d.isDark?io:lo),g=M(()=>d.isDark?Qe:Ue),i=c(!0),z=c("Загрузка...".split("")),A=c(!1);c(!1);const W=c(!1),O=c(!1),p=c(""),v=c(null),_=c(!1),H=c(!1),q=c(!1),I=c(!1),G=c(null),U=c(""),Z=c(!1),j=c(null),a=c(""),P=c(localStorage.getItem("projectsCollapsed")==="true"),oe=()=>{P.value=!P.value,localStorage.setItem("projectsCollapsed",P.value)},K=c(localStorage.getItem("goalsCollapsed")==="true"),de=()=>{K.value=!K.value,localStorage.setItem("goalsCollapsed",K.value)},Q=c(null),fe=c(!1),ce=c(null),Se=M(()=>E.user),Ne=M(()=>C.workspaces),J=M(()=>u.counts),Ze=M(()=>C.currentWorkspace),be=M(()=>b.activeProjects.map(n=>{const t=u.allTasks.filter(T=>T.project_id===n.id),x=t.length,y=t.filter(T=>T.completed_at).length,o=C.workspaces.find(T=>T.id===n.workspace_id);return{...n,workspace:o?{id:o.id,name:o.name,emoji:o.emoji}:n.workspace,total_tasks_count:x,completed_tasks_count:y,tasks_count:x-y}})),he=M(()=>C.selectedWorkspaces.map(n=>n.id)),Ke=M(()=>Math.max(be.value.length,1)*60+20+"px"),we=M(()=>h.activeGoals),Je=M(()=>Math.max(we.value.length,1)*50+20+"px"),De=n=>k.path.includes("/goals/"+n),Xe=n=>{if(!n)return"";const t=new Date(n),x=new Date;x.setHours(0,0,0,0),t.setHours(0,0,0,0);const y=Math.ceil((t-x)/(1e3*60*60*24));return y<0?`просрочено на ${Math.abs(y)} дн.`:y===0?"сегодня":y===1?"завтра":y<=30?`осталось ${y} дн.`:new Date(n).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})},Ye=()=>{window.innerWidth<1024&&(A.value=!1)},et=M(()=>u.filteredTasks.length),tt=M(()=>u.archivedTasks.length),ot=M(()=>{if(he.value.length===0)return 0;const n=J.value.scheduled||0,t=J.value.today||0,x=J.value.tomorrow||0;return n+t+x});M(()=>{var t;return(((t=Se.value)==null?void 0:t.name)||"").split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2)});const Ce=M(()=>k.path.includes("/calendar")),Ee=n=>{var N;C.toggleSelectedWorkspace(n);const x=D.currentRoute.value.path.split("/"),y=x[x.length-1],T=["inbox","next-actions","today","waiting","someday","calendar","projects","goals"].includes(y)?y:"inbox",B=((N=C.currentWorkspace)==null?void 0:N.id)||n.id;D.push(`/workspaces/${B}/${T}`)},$e=n=>{D.push({query:{view:n}})},st=()=>{var n;Ce.value?$e("month"):D.push(`/workspaces/${((n=Ze.value)==null?void 0:n.id)||1}/calendar`)},rt=async n=>{try{const t=await C.createWorkspace(n);W.value=!1,await Ee(t)}catch(t){console.error("Ошибка создания workspace:",t)}},at=async()=>{await E.logout(),D.push("/login")},nt=()=>{O.value=!0},Te=()=>{G.value=null,I.value=!0},lt=async n=>{var t,x;U.value="";try{G.value?await b.updateProject(G.value.id,n):await b.createProject(n),I.value=!1,G.value=null,await b.fetchAllProjects({force:!0})}catch(y){console.error("Error saving project:",y),U.value=((x=(t=y.response)==null?void 0:t.data)==null?void 0:x.message)||y.message||"Ошибка при сохранении потока"}},it=()=>{I.value=!1,G.value=null,U.value=""},Ae=()=>{j.value=null,Z.value=!0},dt=async n=>{var t,x;a.value="";try{j.value?await h.updateGoal(j.value.id,n):await h.createGoal(n),Z.value=!1,j.value=null,await h.fetchAllGoals({force:!0})}catch(y){console.error("Error saving goal:",y),a.value=((x=(t=y.response)==null?void 0:t.data)==null?void 0:x.message)||y.message||"Ошибка при сохранении цели"}},ct=()=>{Z.value=!1,j.value=null,a.value=""},ut=async n=>{var t,x;p.value="";try{await u.createTask(n),O.value=!1}catch(y){console.error("Error creating task:",y),p.value=((x=(t=y.response)==null?void 0:t.data)==null?void 0:x.message)||y.message||"Ошибка при создании задачи"}},vt=()=>{O.value=!1,p.value=""},ue=async({taskId:n,newStatus:t})=>{var x,y;try{const o={status:t};if(t==="today")o.due_date=new Date().toISOString().split("T")[0];else if(t==="tomorrow"){const T=new Date;T.setDate(T.getDate()+1),o.due_date=T.toISOString().split("T")[0]}await u.updateTask(n,o)}catch(o){console.error("Error updating task status:",o),alert(((y=(x=o.response)==null?void 0:x.data)==null?void 0:y.message)||"Ошибка при обновлении задачи")}},pt=()=>{window.innerWidth<1024&&(A.value=!1)},gt=n=>{console.log("Search:",n)},mt=()=>{D.push("/settings")},kt=()=>{D.push("/settings")},yt=n=>{n.target.style.display="none"},xt=async()=>{if(ce.value){try{await C.deleteWorkspace(ce.value.id)}catch(n){console.error("Error deleting workspace:",n)}fe.value=!1,ce.value=null}},Le=()=>{fe.value=!1,ce.value=null},ft=()=>{_.value=!1,Q.value=null},bt=()=>{q.value=!1,Q.value=null},ht=async()=>{await C.fetchWorkspaces()},wt=()=>{H.value=!1,Q.value=null},Ct=async n=>{var t,x,y,o,T;try{console.log("Sending member data:",n),await C.addMember(n.workspace_id,{email:n.email,role:n.role}),_.value=!1,Q.value=null,alert("Пользователь успешно добавлен в workspace")}catch(B){console.error("Error adding member:",B),console.error("Error response:",(t=B.response)==null?void 0:t.data);let N="Ошибка при добавлении пользователя";(y=(x=B.response)==null?void 0:x.data)!=null&&y.errors?N=Object.values(B.response.data.errors).flat().join(", "):(T=(o=B.response)==null?void 0:o.data)!=null&&T.message&&(N=B.response.data.message),alert(N)}},$t=async n=>{var t,x,y,o,T;try{console.log("Renaming workspace:",Q.value.id,"to:",n),await C.updateWorkspace(Q.value.id,{name:n}),await C.fetchWorkspaces(),H.value=!1,Q.value=null,alert("Workspace успешно переименован")}catch(B){console.error("Error renaming workspace:",B),console.error("Error response:",(t=B.response)==null?void 0:t.data);let N="Ошибка при переименовании";(y=(x=B.response)==null?void 0:x.data)!=null&&y.errors?N=Object.values(B.response.data.errors).flat().join(", "):(T=(o=B.response)==null?void 0:o.data)!=null&&T.message&&(N=B.response.data.message),alert(N)}},Be=n=>{n.key==="Escape"&&(v.value=null)};ne(async()=>{try{await C.fetchWorkspaces(),await Promise.all([u.fetchAllTasks(),b.fetchAllProjects(),h.fetchAllGoals(),L.fetchAll()])}finally{i.value=!1}u.startSync(),b.startSync(),document.addEventListener("click",We),document.addEventListener("keydown",Be)}),le(()=>{u.stopSync(),b.stopSync(),document.removeEventListener("click",We),document.removeEventListener("keydown",Be)});const We=()=>{v.value=null},Fe=n=>k.path.includes(`/projects/${n}`);return(n,t)=>{const x=pe("router-link"),y=pe("router-view");return r(),l("div",ts,[f(X,{name:"fade"},{default:S(()=>[i.value?(r(),l("div",os,[e("div",ss,[e("div",rs,[e("img",{src:s.value,alt:"GTD TODO",class:"w-48 h-48 object-contain",onError:yt},null,40,as)]),t[17]||(t[17]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"GTD TODO",-1)),e("p",ns,[(r(!0),l(Y,null,te(z.value,(o,T)=>(r(),l("span",{key:T,style:Me({animationDelay:`${T*.1}s`}),class:"loading-letter"},w(o),5))),128))])])])):$("",!0)]),_:1}),e("div",ls,[e("aside",{class:F(["fixed lg:static inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out",A.value?"translate-x-0":"-translate-x-full lg:translate-x-0"])},[e("div",is,[e("div",ds,[e("div",cs,[e("img",{src:g.value,alt:"GTD TODO",class:"h-10 w-10 object-contain"},null,8,us),t[18]||(t[18]=e("h1",{class:"text-xl font-bold text-gray-900 dark:text-white"},"GTD TODO",-1))])]),e("div",vs,[e("div",ps,[t[20]||(t[20]=e("h3",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Ваши пространства ",-1)),e("button",{onClick:t[0]||(t[0]=o=>W.value=!0),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Создать workspace"},[...t[19]||(t[19]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])]),e("div",gs,[(r(!0),l(Y,null,te(Ne.value,o=>(r(),l("div",{key:o.id,class:F(["group flex items-center rounded-lg transition-colors overflow-hidden",he.value.includes(o.id)?"bg-primary-50 dark:bg-primary-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700"])},[e("button",{class:"flex-1 flex items-center px-3 py-1.5 text-sm cursor-pointer text-left",onClick:T=>Ee(o)},[e("span",{class:F(["truncate",he.value.includes(o.id)?"text-primary-700 dark:text-primary-400 font-medium":"text-gray-500 dark:text-gray-400"])},[o.emoji?(r(),l("span",ks,w(o.emoji),1)):$("",!0),R(w(o.name),1)],2)],8,ms),f(x,{to:`/workspaces/${o.id}/settings`,class:"flex-shrink-0 p-1.5 mr-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded transition-colors opacity-0 group-hover:opacity-100",title:"Настройки",onClick:t[1]||(t[1]=V(()=>{},["stop"]))},{default:S(()=>[...t[21]||(t[21]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"1.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})],-1)])]),_:1},8,["to"])],2))),128))])]),e("nav",ys,[e("div",xs,[f(ve,{to:"/workspaces/:id/today",icon:"calendar",count:J.value.today,"drop-status":"today",onTaskDropped:ue,onCloseSidebar:t[2]||(t[2]=o=>A.value=!1)},{default:S(()=>[...t[22]||(t[22]=[R(" Сегодня ",-1)])]),_:1},8,["count"]),f(ve,{to:"/workspaces/:id/next-actions",icon:"lightning",count:J.value.next_actions,"drop-status":"next_action",onTaskDropped:ue,onCloseSidebar:t[3]||(t[3]=o=>A.value=!1)},{default:S(()=>[...t[23]||(t[23]=[R(" Следующие ",-1)])]),_:1},8,["count"]),f(ve,{to:"/workspaces/:id/tomorrow",icon:"calendar-days",count:J.value.tomorrow,"drop-status":"tomorrow",onTaskDropped:ue,onCloseSidebar:t[4]||(t[4]=o=>A.value=!1)},{default:S(()=>[...t[24]||(t[24]=[R(" Завтра ",-1)])]),_:1},8,["count"]),f(je,{to:"/workspaces/:id/calendar",icon:"calendar-days",count:ot.value,onCloseSidebar:t[5]||(t[5]=o=>A.value=!1)},{default:S(()=>[...t[25]||(t[25]=[R(" Календарь ",-1)])]),_:1},8,["count"]),f(ve,{to:"/workspaces/:id/someday",icon:"archive",count:J.value.someday,"drop-status":"someday",onTaskDropped:ue,onCloseSidebar:t[6]||(t[6]=o=>A.value=!1)},{default:S(()=>[...t[26]||(t[26]=[R(" Когда-нибудь ",-1)])]),_:1},8,["count"]),f(ve,{to:"/workspaces/:id/waiting",icon:"clock",count:J.value.waiting,"drop-status":"waiting",onTaskDropped:ue,onCloseSidebar:t[7]||(t[7]=o=>A.value=!1)},{default:S(()=>[...t[27]||(t[27]=[R(" Ожидание ",-1)])]),_:1},8,["count"]),f(je,{to:"/workspaces/:id/all",icon:"rectangle-stack",count:et.value,onCloseSidebar:t[8]||(t[8]=o=>A.value=!1)},{default:S(()=>[...t[28]||(t[28]=[R(" Все задачи ",-1)])]),_:1},8,["count"])]),e("div",fs,[e("div",{onClick:oe,class:"flex items-center justify-between px-3 mb-2 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-colors -mx-1 px-4 py-1"},[t[30]||(t[30]=e("h3",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center gap-1.5"},[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6v12M9 4v16M14 8v8M19 5v14"})]),R(" Потоки ")],-1)),e("button",{onClick:V(Te,["stop"]),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Создать поток"},[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])]),e("div",{class:"overflow-hidden transition-all duration-300 ease-in-out",style:Me({maxHeight:P.value?"0px":Ke.value})},[e("div",bs,[(r(!0),l(Y,null,te(be.value,o=>(r(),l("div",{key:o.id,class:F(["flex items-center justify-between group px-3 py-1.5 rounded-lg transition-colors",Fe(o.id)?"bg-primary-50 dark:bg-primary-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700"])},[f(x,{to:`/workspaces/${o.workspace_id}/projects/${o.id}`,onClick:pt,class:"flex items-center flex-1 min-w-0"},{default:S(()=>{var T;return[e("div",hs,[e("span",{class:F(["text-sm line-clamp-2",Fe(o.id)?"text-primary-700 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300"])},w(o.name),3),(T=o.goal)!=null&&T.name?(r(),l("div",ws,w(o.goal.name),1)):$("",!0),o.total_tasks_count>0?(r(),l("div",{key:1,class:"flex items-center gap-0.5 mt-1",title:`${o.completed_tasks_count} / ${o.total_tasks_count} выполнено`},[o.total_tasks_count<=12?(r(!0),l(Y,{key:0},te(o.total_tasks_count,B=>(r(),l("div",{key:B,class:F(["w-2 h-2 rounded-sm",B<=o.completed_tasks_count?"bg-green-500":"bg-gray-300 dark:bg-gray-600"])},null,2))),128)):(r(),l(Y,{key:1},[(r(),l(Y,null,te(12,B=>e("div",{key:B,class:F(["w-2 h-2 rounded-sm",B<=Math.round(o.completed_tasks_count/o.total_tasks_count*12)?"bg-green-500":"bg-gray-300 dark:bg-gray-600"])},null,2)),64)),e("span",$s,w(o.completed_tasks_count)+"/"+w(o.total_tasks_count),1)],64))],8,Cs)):$("",!0)])]}),_:2},1032,["to"])],2))),128)),be.value.length===0?(r(),l("div",Ms," Нет потоков ")):$("",!0)])],4)]),e("div",js,[e("div",{onClick:de,class:"flex items-center justify-between px-3 mb-2 cursor-pointer select-none hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-colors -mx-1 px-4 py-1"},[t[32]||(t[32]=e("h3",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center gap-1.5"},[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),R(" Цели ")],-1)),e("button",{onClick:V(Ae,["stop"]),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Создать цель"},[...t[31]||(t[31]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])]),e("div",{class:"overflow-hidden transition-all duration-300 ease-in-out",style:Me({maxHeight:K.value?"0px":Je.value})},[e("div",_s,[(r(!0),l(Y,null,te(we.value,o=>(r(),ee(x,{key:o.id,to:`/workspaces/${o.workspace_id}/goals/${o.id}`,onClick:Ye,class:F(["flex items-center px-3 py-1.5 rounded-lg transition-colors",De(o.id)?"bg-primary-50 dark:bg-primary-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700"])},{default:S(()=>[e("div",Ss,[e("span",{class:F(["text-sm truncate block",De(o.id)?"text-primary-700 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300"])},w(o.name),3),o.deadline?(r(),l("div",Ds,w(Xe(o.deadline)),1)):$("",!0)]),o.progress>0?(r(),l("span",Es,w(o.progress)+"% ",1)):$("",!0)]),_:2},1032,["to","class"]))),128)),we.value.length===0?(r(),l("div",Ts," Нет целей ")):$("",!0)])],4)]),e("div",As,[e("div",Ls,[f(je,{to:"/workspaces/:id/archive",icon:"archive-box",count:tt.value,onCloseSidebar:t[9]||(t[9]=o=>A.value=!1)},{default:S(()=>[...t[33]||(t[33]=[R(" Архив ",-1)])]),_:1},8,["count"])])])])])],2),A.value?(r(),l("div",{key:0,onClick:t[10]||(t[10]=o=>A.value=!1),class:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden"})):$("",!0),A.value?$("",!0):(r(),l("div",Bs,[e("button",{onClick:t[11]||(t[11]=o=>O.value=!0),class:"w-10 h-10 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg inline-flex items-center justify-center active:scale-95 transition-transform"},[...t[34]||(t[34]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)])]),e("div",Ws,[f(X,{name:"slide-fade-day"},{default:S(()=>[Ce.value?(r(),l("button",{key:0,onClick:t[12]||(t[12]=o=>$e("day")),class:"absolute right-full mr-2 top-0 w-10 h-10 bg-purple-500 hover:bg-purple-600 text-white rounded-full shadow-lg inline-flex items-center justify-center active:scale-95 transition-all",title:"Сегодня"},[...t[35]||(t[35]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})],-1)])])):$("",!0)]),_:1}),f(X,{name:"slide-fade-week"},{default:S(()=>[Ce.value?(r(),l("button",{key:0,onClick:t[13]||(t[13]=o=>$e("week")),class:"absolute right-full mr-14 top-0 w-10 h-10 bg-purple-500 hover:bg-purple-600 text-white rounded-full shadow-lg inline-flex items-center justify-center active:scale-95 transition-all",title:"Неделя"},[...t[36]||(t[36]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])])):$("",!0)]),_:1}),e("button",{onClick:st,class:"w-10 h-10 bg-purple-600 hover:bg-purple-700 text-white rounded-full shadow-lg inline-flex items-center justify-center active:scale-95 transition-transform"},[...t[37]||(t[37]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])])]),e("button",{onClick:t[14]||(t[14]=o=>A.value=!0),class:"w-12 h-12 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg inline-flex items-center justify-center active:scale-95 transition-transform"},[...t[38]||(t[38]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])])])),e("main",Fs,[f(no,{user:Se.value,"inbox-count":J.value.inbox,onQuickAddTask:nt,onQuickAddProject:Te,onQuickAddGoal:Ae,onSearch:gt,onLogout:at,onProfile:mt,onSettings:kt,onToggleSidebar:t[15]||(t[15]=o=>A.value=!A.value)},null,8,["user","inbox-count"]),e("div",zs,[f(y)])])]),f(fo,{show:W.value,onClose:t[16]||(t[16]=o=>W.value=!1),onSubmit:rt},null,8,["show"]),f(Dt,{show:O.value,"server-error":p.value,onClose:vt,onSubmit:ut},null,8,["show","server-error"]),f(So,{show:_.value,workspace:Q.value,onClose:ft,onSubmit:Ct},null,8,["show","workspace"]),f(Wo,{show:H.value,workspace:Q.value,onClose:wt,onSubmit:$t},null,8,["show","workspace"]),f(es,{show:q.value,workspace:Q.value,onClose:bt,onMemberRemoved:ht},null,8,["show","workspace"]),f(Lt,{show:I.value,project:G.value,"server-error":U.value,onClose:it,onSubmit:lt},null,8,["show","project","server-error"]),f(Bt,{show:Z.value,goal:j.value,"server-error":a.value,onClose:ct,onSubmit:dt},null,8,["show","goal","server-error"]),f(X,{name:"modal"},{default:S(()=>{var o;return[fe.value?(r(),l("div",Os,[e("div",{class:"fixed inset-0 bg-black/50",onClick:Le}),e("div",Ps,[t[39]||(t[39]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Удалить пространство?",-1)),e("p",Vs," Пространство «"+w((o=ce.value)==null?void 0:o.name)+"» будет удалено навсегда. Это действие нельзя отменить. ",1),e("div",{class:"flex justify-end space-x-3"},[e("button",{onClick:Le,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"}," Отмена "),e("button",{onClick:xt,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors"}," Удалить ")])])])):$("",!0)]}),_:1})])}}},Ys=ie(Hs,[["__scopeId","data-v-4cb202c6"]]);export{Ys as default};
