import{i as W,r as v,s as R,c as l,o as a,a as e,w as E,b as w,d as M,v as U,t as x,u as I,k as j,D as N,e as D,F as G,z as H,p as q,J as F,G as T,j as J,B as K,l as L}from"./index-BF6qW96N.js";import{u as z}from"./workspace-D-3WlEyB.js";const P={class:"space-y-6"},Q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},X={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},Y={key:1,class:"text-green-600 dark:text-green-400 text-sm bg-green-50 dark:bg-green-900/20 p-3 rounded-lg"},Z=["disabled"],ee={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-red-200 dark:border-red-900/50 p-6"},te=["disabled"],re={__name:"GeneralTab",props:{workspace:{type:Object,required:!0}},setup($){const k=$,S=W(),C=z(),m=v({name:"",description:""}),g=v(!1),p=v(!1),u=v(""),_=v("");R(()=>{k.workspace&&(m.value.name=k.workspace.name||"",m.value.description=k.workspace.description||"")});const i=async()=>{var r,s;u.value="",_.value="",g.value=!0;try{await C.updateWorkspace(k.workspace.id,m.value),_.value="Настройки сохранены"}catch(c){u.value=((s=(r=c.response)==null?void 0:r.data)==null?void 0:s.message)||"Ошибка сохранения"}finally{g.value=!1}},f=async()=>{var r,s,c;if(confirm(`Удалить пространство "${(r=k.workspace)==null?void 0:r.name}"? Это действие необратимо.`)){p.value=!0;try{await C.deleteWorkspace(k.workspace.id),S.push("/")}catch(h){u.value=((c=(s=h.response)==null?void 0:s.data)==null?void 0:c.message)||"Ошибка удаления"}finally{p.value=!1}}};return(r,s)=>(a(),l("div",P,[e("div",Q,[s[4]||(s[4]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Основные",-1)),e("form",{onSubmit:E(i,["prevent"]),class:"space-y-4"},[e("div",null,[s[2]||(s[2]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Название ",-1)),M(e("input",{"onUpdate:modelValue":s[0]||(s[0]=c=>m.value.name=c),type:"text",class:"input",required:""},null,512),[[U,m.value.name]])]),e("div",null,[s[3]||(s[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Описание ",-1)),M(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=c=>m.value.description=c),class:"input",rows:"3",placeholder:"Описание пространства (необязательно)"},null,512),[[U,m.value.description]])]),u.value?(a(),l("div",X,x(u.value),1)):w("",!0),_.value?(a(),l("div",Y,x(_.value),1)):w("",!0),e("button",{type:"submit",disabled:g.value,class:"btn btn-primary"},x(g.value?"Сохранение...":"Сохранить"),9,Z)],32)]),e("div",ee,[s[5]||(s[5]=e("h2",{class:"text-lg font-semibold text-red-600 dark:text-red-400 mb-2"},"Опасная зона",-1)),s[6]||(s[6]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Удаление пространства приведёт к удалению всех задач, проектов и данных. ",-1)),e("button",{onClick:f,disabled:p.value,class:"px-4 py-2 text-sm font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors"},x(p.value?"Удаление...":"Удалить пространство"),9,te)])]))}},ae={class:"space-y-6"},se={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},oe=["disabled"],le={key:0,class:"mt-3 text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},ne={key:1,class:"mt-3 text-green-600 dark:text-green-400 text-sm bg-green-50 dark:bg-green-900/20 p-3 rounded-lg"},de={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},ie={class:"p-4 border-b border-gray-200 dark:border-gray-700"},ue={class:"text-lg font-semibold text-gray-900 dark:text-white"},me={key:0,class:"text-sm font-normal text-gray-500 dark:text-gray-400"},ce={key:0,class:"p-8 text-center"},be={key:1,class:"divide-y divide-gray-200 dark:divide-gray-700"},ge={class:"flex items-center space-x-3"},ve={class:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-sm font-medium text-primary-700 dark:text-primary-400"},pe={class:"text-sm font-medium text-gray-900 dark:text-white"},ye={class:"text-xs text-gray-500 dark:text-gray-400"},xe={class:"flex items-center space-x-3"},ke=["onClick"],fe={__name:"MembersTab",props:{workspace:{type:Object,required:!0},canManage:{type:Boolean,default:!1}},setup($){const k=$,S=z(),C=I(),m=v([]),g=v(!0),p=v(!1),u=v(""),_=v(""),i=v({email:"",role:"member"}),f=j(()=>{var b;return(b=C.user)==null?void 0:b.id}),r=async()=>{var b;if((b=k.workspace)!=null&&b.id){g.value=!0;try{const o=await S.fetchMembers(k.workspace.id);m.value=o||[]}catch(o){console.error("Error loading members:",o)}finally{g.value=!1}}},s=async()=>{var b,o;u.value="",_.value="",p.value=!0;try{await S.addMember(k.workspace.id,i.value),_.value=`${i.value.email} добавлен`,i.value.email="",await r()}catch(y){u.value=((o=(b=y.response)==null?void 0:b.data)==null?void 0:o.message)||"Ошибка добавления"}finally{p.value=!1}},c=async b=>{if(confirm(`Удалить ${b.name} из пространства?`))try{await S.removeMember(k.workspace.id,b.id),await r()}catch(o){console.error("Error removing member:",o)}},h=b=>b?b.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2):"?",B=b=>{const o={owner:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",admin:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",member:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",viewer:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};return o[b]||o.member},V=b=>({owner:"Владелец",admin:"Админ",member:"Участник",viewer:"Просмотр"})[b]||b;return R(r),(b,o)=>(a(),l("div",ae,[$.canManage?(a(),l("div",se,[o[3]||(o[3]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Добавить участника",-1)),e("form",{onSubmit:E(s,["prevent"]),class:"flex flex-col sm:flex-row gap-3"},[M(e("input",{"onUpdate:modelValue":o[0]||(o[0]=y=>i.value.email=y),type:"email",class:"input flex-1",placeholder:"Email пользователя",required:""},null,512),[[U,i.value.email]]),M(e("select",{"onUpdate:modelValue":o[1]||(o[1]=y=>i.value.role=y),class:"input w-full sm:w-36"},[...o[2]||(o[2]=[e("option",{value:"viewer"},"Просмотр",-1),e("option",{value:"member"},"Участник",-1),e("option",{value:"admin"},"Админ",-1)])],512),[[N,i.value.role]]),e("button",{type:"submit",disabled:p.value,class:"btn btn-primary whitespace-nowrap"},x(p.value?"...":"Добавить"),9,oe)],32),u.value?(a(),l("div",le,x(u.value),1)):w("",!0),_.value?(a(),l("div",ne,x(_.value),1)):w("",!0)])):w("",!0),e("div",de,[e("div",ie,[e("h2",ue,[o[4]||(o[4]=D(" Участники ",-1)),m.value.length>0?(a(),l("span",me," ("+x(m.value.length)+") ",1)):w("",!0)])]),g.value?(a(),l("div",ce,[...o[5]||(o[5]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):(a(),l("div",be,[(a(!0),l(G,null,H(m.value,y=>{var d,t,n,A,O;return a(),l("div",{key:y.id,class:"flex items-center justify-between p-4"},[e("div",ge,[e("div",ve,x(h(y.name)),1),e("div",null,[e("p",pe,x(y.name),1),e("p",ye,x(y.email),1)])]),e("div",xe,[e("span",{class:q(["px-2 py-1 text-xs font-medium rounded-full",B(((d=y.pivot)==null?void 0:d.role)||(y.id===((t=$.workspace)==null?void 0:t.owner_id)?"owner":"member"))])},x(V(((n=y.pivot)==null?void 0:n.role)||(y.id===((A=$.workspace)==null?void 0:A.owner_id)?"owner":"member"))),3),$.canManage&&y.id!==((O=$.workspace)==null?void 0:O.owner_id)&&y.id!==f.value?(a(),l("button",{key:0,onClick:tt=>c(y),class:"text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",title:"Удалить"},[...o[6]||(o[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ke)):w("",!0)])])}),128))]))])]))}},we={key:0,class:"text-center py-12"},_e={key:1,class:"space-y-6"},he={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},$e={key:0},Ce={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},Me=["disabled"],Se={key:1},Te={class:"flex items-center justify-between mb-4"},je={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Be={class:"text-right"},Ue={class:"text-sm text-gray-500 dark:text-gray-400"},Ve=["disabled"],qe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Ee={key:0,class:"text-center py-6"},Fe={key:0,class:"text-sm text-gray-400 dark:text-gray-500 mt-1"},Le={key:1,class:"text-center py-6"},De=["disabled"],Re={key:2},Ie={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4"},ze=["href"],Ae={key:3},Oe={class:"flex items-center justify-between"},We={key:0,class:"ml-4"},Ne={class:"flex items-center justify-between"},Ge={key:1,class:"ml-4"},He={class:"flex items-center justify-between"},Je={key:2,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},Ke={class:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700"},Pe=["disabled"],Qe={__name:"TelegramTab",props:{workspace:{type:Object,required:!0}},setup($){const k=$,S=I(),C=v(!0),m=v(!1),g=v(!1),p=v(""),u=v(""),_=v(""),i=v({is_configured:!1,bot_username:null,is_active:!1,subscribers_count:0}),f=v({bot_configured:!1,bot_username:null,subscribed:!1,is_active:!1,connect_url:null}),r=v({morning_digest_time:"08:00",reminder_minutes_before:30,notify_overdue:!0,notify_morning_digest:!0,notify_reminders:!0}),s=j(()=>{var d,t;return((d=k.workspace)==null?void 0:d.owner_id)===((t=S.user)==null?void 0:t.id)}),c=j(()=>{var d;return(d=k.workspace)==null?void 0:d.id}),h=async()=>{if(c.value){C.value=!0;try{const t=(await T.get(`/v1/workspaces/${c.value}/telegram-subscription`)).data;if(f.value={bot_configured:t.bot_configured,bot_username:t.bot_username||null,subscribed:t.subscribed||!1,is_active:t.is_active||!1,connect_url:t.connect_url||null},t.subscribed&&t.is_active&&(r.value={morning_digest_time:t.morning_digest_time||"08:00",reminder_minutes_before:t.reminder_minutes_before||30,notify_overdue:t.notify_overdue??!0,notify_morning_digest:t.notify_morning_digest??!0,notify_reminders:t.notify_reminders??!0}),s.value)try{const n=await T.get(`/v1/workspaces/${c.value}/telegram-settings`);i.value=n.data}catch{}}catch(d){console.error("Error loading telegram data:",d)}finally{C.value=!1}}},B=async()=>{var d,t;p.value="",m.value=!0;try{await T.post(`/v1/workspaces/${c.value}/telegram-settings`,{bot_token:_.value}),_.value="",await h()}catch(n){p.value=((t=(d=n.response)==null?void 0:d.data)==null?void 0:t.message)||"Ошибка подключения бота"}finally{m.value=!1}},V=async()=>{var d,t;if(confirm("Отключить Telegram бота? Все подписки будут удалены.")){m.value=!0;try{await T.delete(`/v1/workspaces/${c.value}/telegram-settings`),await h()}catch(n){p.value=((t=(d=n.response)==null?void 0:d.data)==null?void 0:t.message)||"Ошибка отключения"}finally{m.value=!1}}},b=async()=>{var d,t;u.value="",g.value=!0;try{await T.post(`/v1/workspaces/${c.value}/telegram-subscription`),await h()}catch(n){u.value=((t=(d=n.response)==null?void 0:d.data)==null?void 0:t.message)||"Ошибка подписки"}finally{g.value=!1}},o=async()=>{var d,t;u.value="",g.value=!0;try{await T.put(`/v1/workspaces/${c.value}/telegram-subscription`,r.value),u.value=""}catch(n){u.value=((t=(d=n.response)==null?void 0:d.data)==null?void 0:t.message)||"Ошибка сохранения"}finally{g.value=!1}},y=async()=>{var d,t;if(confirm("Отключить Telegram уведомления?")){g.value=!0;try{await T.delete(`/v1/workspaces/${c.value}/telegram-subscription`),await h()}catch(n){u.value=((t=(d=n.response)==null?void 0:d.data)==null?void 0:t.message)||"Ошибка отключения"}finally{g.value=!1}}};return R(h),(d,t)=>(a(),l("div",null,[C.value?(a(),l("div",we,[...t[7]||(t[7]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):(a(),l("div",_e,[s.value?(a(),l("div",he,[t[11]||(t[11]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Настройка бота",-1)),i.value.is_configured?(a(),l("div",Se,[e("div",Te,[e("div",null,[t[10]||(t[10]=e("div",{class:"flex items-center space-x-2"},[e("span",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Бот подключен")],-1)),i.value.bot_username?(a(),l("p",je," @"+x(i.value.bot_username),1)):w("",!0)]),e("div",Be,[e("p",Ue," Подписчиков: "+x(i.value.subscribers_count||0),1)])]),e("button",{onClick:V,disabled:m.value,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300"}," Отключить бота ",8,Ve)])):(a(),l("div",$e,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},[D(" Создайте бота через "),e("a",{href:"https://t.me/BotFather",target:"_blank",class:"text-primary-600 dark:text-primary-400 hover:underline"},"@BotFather"),D(" и вставьте токен. ")],-1)),e("form",{onSubmit:E(B,["prevent"]),autocomplete:"off",class:"space-y-4"},[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Токен бота ",-1)),M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>_.value=n),type:"text",name:"bot_token_nofill",autocomplete:"new-password",readonly:"",onFocus:t[1]||(t[1]=n=>n.target.removeAttribute("readonly")),class:"input",placeholder:"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11",required:""},null,544),[[U,_.value]])]),p.value?(a(),l("div",Ce,x(p.value),1)):w("",!0),e("button",{type:"submit",disabled:m.value,class:"btn btn-primary"},x(m.value?"Подключение...":"Подключить бота"),9,Me)],32)]))])):w("",!0),e("div",qe,[t[24]||(t[24]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Моя подписка",-1)),f.value.bot_configured?f.value.subscribed?f.value.is_active?(a(),l("div",Ae,[t[23]||(t[23]=e("div",{class:"flex items-center space-x-2 mb-6"},[e("span",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",{class:"text-sm text-green-700 dark:text-green-400 font-medium"},"Telegram подключен")],-1)),e("form",{onSubmit:E(o,["prevent"]),class:"space-y-4"},[e("div",Oe,[t[18]||(t[18]=e("div",null,[e("label",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Утренний дайджест"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Список задач на сегодня")],-1)),M(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.value.notify_morning_digest=n),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[F,r.value.notify_morning_digest]])]),r.value.notify_morning_digest?(a(),l("div",We,[t[19]||(t[19]=e("label",{class:"block text-sm text-gray-600 dark:text-gray-400 mb-1"},"Время отправки",-1)),M(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>r.value.morning_digest_time=n),type:"time",class:"input w-32"},null,512),[[U,r.value.morning_digest_time]])])):w("",!0),e("div",Ne,[t[20]||(t[20]=e("div",null,[e("label",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Напоминания"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Перед началом задачи")],-1)),M(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>r.value.notify_reminders=n),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[F,r.value.notify_reminders]])]),r.value.notify_reminders?(a(),l("div",Ge,[t[21]||(t[21]=e("label",{class:"block text-sm text-gray-600 dark:text-gray-400 mb-1"},"За сколько минут",-1)),M(e("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>r.value.reminder_minutes_before=n),type:"number",min:"5",max:"120",class:"input w-32"},null,512),[[U,r.value.reminder_minutes_before,void 0,{number:!0}]])])):w("",!0),e("div",He,[t[22]||(t[22]=e("div",null,[e("label",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Просроченные задачи"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Ежедневно в 09:00")],-1)),M(e("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>r.value.notify_overdue=n),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[F,r.value.notify_overdue]])]),u.value?(a(),l("div",Je,x(u.value),1)):w("",!0),e("div",Ke,[e("button",{type:"submit",disabled:g.value,class:"btn btn-primary"},x(g.value?"Сохранение...":"Сохранить"),9,Pe),e("button",{type:"button",onClick:y,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300"}," Отключить Telegram ")])],32)])):(a(),l("div",Re,[e("div",Ie,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2"}," Перейдите по ссылке и нажмите Start: ",-1)),e("a",{href:f.value.connect_url,target:"_blank",class:"inline-flex items-center space-x-2 text-primary-600 dark:text-primary-400 hover:underline font-medium"},[...t[15]||(t[15]=[e("span",null,"Открыть в Telegram",-1),e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])],8,ze)]),t[17]||(t[17]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," После нажатия Start в Telegram, обновите эту страницу. ",-1)),e("div",{class:"mt-4 flex space-x-3"},[e("button",{onClick:h,class:"btn btn-secondary text-sm"}," Обновить статус "),e("button",{onClick:y,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300"}," Отменить ")])])):(a(),l("div",Le,[t[14]||(t[14]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," Подключите Telegram для получения уведомлений и управления задачами. ",-1)),e("button",{onClick:b,disabled:g.value,class:"btn btn-primary"},x(g.value?"Подключение...":"Подключить Telegram"),9,De)])):(a(),l("div",Ee,[t[12]||(t[12]=e("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),t[13]||(t[13]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Telegram бот ещё не настроен для этого пространства. ",-1)),s.value?w("",!0):(a(),l("p",Fe," Обратитесь к владельцу пространства. "))]))])]))]))}},Xe={class:"p-4 lg:p-8"},Ye={class:"max-w-3xl mx-auto"},Ze={class:"border-b border-gray-200 dark:border-gray-700 mb-6"},et={class:"flex space-x-6"},st={__name:"Settings",setup($){const k=J(),S=W(),C=z(),m=I(),g=j(()=>parseInt(k.params.id)),p=j(()=>C.workspaces.find(f=>f.id===g.value)),u=j(()=>{var c,h,B;const f=p.value,r=(c=m.user)==null?void 0:c.id;if(!f||!r)return!1;if(f.owner_id===r)return!0;const s=(h=f.members)==null?void 0:h.find(V=>V.id===r);return((B=s==null?void 0:s.pivot)==null?void 0:B.role)==="admin"}),_=j(()=>u.value?"general":"members"),i=v(k.query.tab||_.value);return K(i,f=>{S.replace({query:{...k.query,tab:f}})}),(f,r)=>(a(),l("div",Xe,[e("div",Ye,[r[3]||(r[3]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"}," Настройки пространства ",-1)),e("div",Ze,[e("nav",et,[u.value?(a(),l("button",{key:0,onClick:r[0]||(r[0]=s=>i.value="general"),class:q(["pb-3 text-sm font-medium border-b-2 transition-colors",i.value==="general"?"border-primary-600 text-primary-600 dark:text-primary-400 dark:border-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])}," Общие ",2)):w("",!0),e("button",{onClick:r[1]||(r[1]=s=>i.value="members"),class:q(["pb-3 text-sm font-medium border-b-2 transition-colors",i.value==="members"?"border-primary-600 text-primary-600 dark:text-primary-400 dark:border-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])}," Участники ",2),e("button",{onClick:r[2]||(r[2]=s=>i.value="telegram"),class:q(["pb-3 text-sm font-medium border-b-2 transition-colors",i.value==="telegram"?"border-primary-600 text-primary-600 dark:text-primary-400 dark:border-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])}," Telegram ",2)])]),i.value==="general"&&u.value?(a(),L(re,{key:0,workspace:p.value},null,8,["workspace"])):w("",!0),i.value==="members"?(a(),L(fe,{key:1,workspace:p.value,"can-manage":u.value},null,8,["workspace","can-manage"])):w("",!0),i.value==="telegram"?(a(),L(Qe,{key:2,workspace:p.value},null,8,["workspace"])):w("",!0)])]))}};export{st as default};
