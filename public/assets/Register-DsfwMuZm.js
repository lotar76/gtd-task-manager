import{u as g,r as m,c as u,a as t,w as b,b as w,d as o,v as i,t as p,e as x,f as k,g as _,h as V,i as h,o as v}from"./index-CM0cfn01.js";const S={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 px-4"},q={class:"max-w-md w-full"},D={class:"card"},N={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},T=["disabled"],U={class:"mt-6 text-center"},B={class:"text-sm text-gray-600 dark:text-gray-400"},M={__name:"Register",setup(C){const f=h(),y=g(),a=m({name:"",email:"",password:"",password_confirmation:""}),s=m(""),l=m(!1),c=async()=>{var d,e;if(s.value="",a.value.password!==a.value.password_confirmation){s.value="Пароли не совпадают";return}l.value=!0;try{await y.register(a.value),f.push("/")}catch(n){s.value=((e=(d=n.response)==null?void 0:d.data)==null?void 0:e.message)||"Ошибка регистрации"}finally{l.value=!1}};return(d,e)=>{const n=V("router-link");return v(),u("div",S,[t("div",q,[t("div",D,[e[10]||(e[10]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"GTD TODO"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-2"},"Создайте свой аккаунт")],-1)),t("form",{onSubmit:b(c,["prevent"]),class:"space-y-6"},[t("div",null,[e[4]||(e[4]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Имя ",-1)),o(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=r=>a.value.name=r),type:"text",required:"",class:"input",placeholder:"Ваше имя"},null,512),[[i,a.value.name]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email ",-1)),o(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=r=>a.value.email=r),type:"email",required:"",class:"input",placeholder:"example@email.com"},null,512),[[i,a.value.email]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Пароль ",-1)),o(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=r=>a.value.password=r),type:"password",required:"",minlength:"8",class:"input",placeholder:"••••••••"},null,512),[[i,a.value.password]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Подтверждение пароля ",-1)),o(t("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=r=>a.value.password_confirmation=r),type:"password",required:"",class:"input",placeholder:"••••••••"},null,512),[[i,a.value.password_confirmation]])]),s.value?(v(),u("div",N,p(s.value),1)):w("",!0),t("button",{type:"submit",disabled:l.value,class:"w-full btn btn-primary"},p(l.value?"Регистрация...":"Зарегистрироваться"),9,T)],32),t("div",U,[t("p",B,[e[9]||(e[9]=x(" Уже есть аккаунт? ",-1)),k(n,{to:"/login",class:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium"},{default:_(()=>[...e[8]||(e[8]=[x(" Войти ",-1)])]),_:1})])])])])])}}};export{M as default};
