import{u as C,T as B}from"./TaskModal-BYX3uS-9.js";import{T as E}from"./TaskList-Djn5vfTM.js";import{r as M}from"./CalendarDaysIcon-4fsf65zt.js";import{r as S}from"./PlusIcon-heEwJE2o.js";import{k as x,r as m,c as d,a as t,f as c,F as j,l as N,A as f,e as V,o as n}from"./index-CkUj6iLR.js";import"./workspace-Dea_yilJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ru-B7JyRvIu.js";const A={class:"p-4 lg:p-8"},F={class:"max-w-4xl mx-auto"},L={key:0,class:"text-center py-12"},O={key:1,class:"text-center py-12"},$={class:"max-w-md mx-auto"},q={class:"w-16 h-16 mx-auto mb-4 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center"},W={__name:"Tomorrow",setup(z){const r=C(),k=x(()=>r.tomorrowTasks),T=x(()=>r.loading),o=m(!1),a=m(null),i=m(""),w=s=>{a.value=s,o.value=!0},y=()=>{a.value=null,o.value=!0},h=async s=>{try{s.status==="completed"?await r.updateTask(s.id,{status:"tomorrow"}):await r.completeTask(s.id)}catch(e){console.error("Error toggling task:",e)}},b=async s=>{var e,p,v,g;i.value="";try{a.value?await r.updateTask(a.value.id,s):await r.createTask(s),o.value=!1,a.value=null}catch(l){console.error("Error saving task:",l);let u="Ошибка при сохранении задачи";(p=(e=l.response)==null?void 0:e.data)!=null&&p.errors?u=Object.values(l.response.data.errors).flat().join(", "):(g=(v=l.response)==null?void 0:v.data)!=null&&g.message&&(u=l.response.data.message),i.value=u}},_=()=>{o.value=!1,a.value=null,i.value=""};return(s,e)=>(n(),d("div",A,[t("div",F,[e[4]||(e[4]=t("div",{class:"mb-6"},[t("h1",{class:"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-white"},"Завтра")],-1)),T.value?(n(),d("div",L,[...e[0]||(e[0]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):(n(),d(j,{key:1},[k.value.length>0?(n(),N(E,{key:0,tasks:k.value,onTaskClick:w,onToggleComplete:h},null,8,["tasks"])):(n(),d("div",O,[t("div",$,[t("div",q,[c(f(M),{class:"w-8 h-8 text-indigo-500"})]),e[2]||(e[2]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"На завтра ничего не запланировано",-1)),e[3]||(e[3]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed"}," Планируйте завтрашний день заранее. Вечерний обзор задач на завтра — одна из самых продуктивных привычек. Утром вы сразу будете знать, с чего начать. ",-1)),t("button",{onClick:y,class:"inline-flex items-center px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors"},[c(f(S),{class:"w-5 h-5 mr-1.5"}),e[1]||(e[1]=V(" Запланировать на завтра ",-1))])])]))],64)),c(B,{show:o.value,task:a.value,"server-error":i.value,onClose:_,onSubmit:b},null,8,["show","task","server-error"])])]))}};export{W as default};
