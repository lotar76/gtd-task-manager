import{u as x,T as y}from"./TaskModal-CJhei9Ul.js";import{_ as b}from"./TaskList-DsFPsP-2.js";import{k as p,r as i,c as v,a as n,l as C,f as B,o as u}from"./index-C08jv159.js";import"./workspace-BpQsCEKO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ru-B7JyRvIu.js";const E={class:"p-4 lg:p-8"},M={class:"max-w-4xl mx-auto"},S={key:0,class:"text-center py-12"},F={__name:"Tomorrow",setup(j){const a=x(),f=p(()=>a.tomorrowTasks),g=p(()=>a.loading),t=i(!1),o=i(null),l=i(""),T=e=>{o.value=e,t.value=!0},_=async e=>{try{e.status==="completed"?await a.updateTask(e.id,{status:"tomorrow"}):await a.completeTask(e.id)}catch(s){console.error("Error toggling task:",s)}},w=async e=>{var s,d,m,k;l.value="";try{o.value?await a.updateTask(o.value.id,e):await a.createTask(e),t.value=!1,o.value=null}catch(r){console.error("Error saving task:",r);let c="Ошибка при сохранении задачи";(d=(s=r.response)==null?void 0:s.data)!=null&&d.errors?c=Object.values(r.response.data.errors).flat().join(", "):(k=(m=r.response)==null?void 0:m.data)!=null&&k.message&&(c=r.response.data.message),l.value=c}},h=()=>{t.value=!1,o.value=null,l.value=""};return(e,s)=>(u(),v("div",E,[n("div",M,[s[1]||(s[1]=n("div",{class:"mb-6"},[n("h1",{class:"text-xl lg:text-2xl font-semibold text-gray-900"},"Завтра")],-1)),g.value?(u(),v("div",S,[...s[0]||(s[0]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):(u(),C(b,{key:1,tasks:f.value,onTaskClick:T,onToggleComplete:_},null,8,["tasks"])),B(y,{show:t.value,task:o.value,"server-error":l.value,onClose:h,onSubmit:w},null,8,["show","task","server-error"])])]))}};export{F as default};
