import{u as y,r as n,c as d,a as t,w as g,b as w,d as u,v as m,t as p,e as c,f as _,g as h,h as k,i as V,o as v}from"./index-k8OeIxN1.js";const S={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 px-4"},D={class:"max-w-md w-full"},N={class:"card"},T={key:0,class:"text-red-600 text-sm bg-red-50 p-3 rounded-lg"},B=["disabled"],C={class:"mt-6 text-center"},q={class:"text-sm text-gray-600"},O={__name:"Login",setup(E){const x=V(),f=y(),s=n({email:"",password:""}),a=n(""),l=n(!1),b=async()=>{var o,e;a.value="",l.value=!0;try{await f.login(s.value),x.push("/")}catch(r){a.value=((e=(o=r.response)==null?void 0:o.data)==null?void 0:e.message)||"Ошибка входа"}finally{l.value=!1}};return(o,e)=>{const r=k("router-link");return v(),d("div",S,[t("div",D,[t("div",N,[e[6]||(e[6]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"GTD TODO"),t("p",{class:"text-gray-600 mt-2"},"Войдите в свой аккаунт")],-1)),t("form",{onSubmit:g(b,["prevent"]),class:"space-y-6"},[t("div",null,[e[2]||(e[2]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),u(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=i=>s.value.email=i),type:"email",required:"",class:"input",placeholder:"example@email.com"},null,512),[[m,s.value.email]])]),t("div",null,[e[3]||(e[3]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Пароль ",-1)),u(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>s.value.password=i),type:"password",required:"",class:"input",placeholder:"••••••••"},null,512),[[m,s.value.password]])]),a.value?(v(),d("div",T,p(a.value),1)):w("",!0),t("button",{type:"submit",disabled:l.value,class:"w-full btn btn-primary"},p(l.value?"Вход...":"Войти"),9,B)],32),t("div",C,[t("p",q,[e[5]||(e[5]=c(" Нет аккаунта? ",-1)),_(r,{to:"/register",class:"text-primary-600 hover:text-primary-700 font-medium"},{default:h(()=>[...e[4]||(e[4]=[c(" Зарегистрироваться ",-1)])]),_:1})])])])])])}}};export{O as default};
