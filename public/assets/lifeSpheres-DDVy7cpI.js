import{E as w,r as l,k as u,H as o}from"./index-BQRmz4GQ.js";import{u as k}from"./workspace-DTkHaZL8.js";const A=w("lifeSpheres",()=>{const a=l([]),n=l(!1),c=l(!1),i=k(),f=u(()=>i.selectedWorkspaces.map(s=>s.id)),v=u(()=>{const s=f.value;return s.length?a.value.filter(e=>s.includes(e.workspace_id)):[]});return{allSpheres:a,loading:n,loaded:c,filteredSpheres:v,fetchAll:async({force:s=!1}={})=>{if(!(c.value&&!s)){n.value=!0;try{const e=await o.get("/v1/life-spheres");a.value=e.data.data||e.data||[],c.value=!0}finally{n.value=!1}}},create:async(s,e)=>{const t=await o.post(`/v1/workspaces/${s}/life-spheres`,e),r=t.data.data||t.data;return a.value.push(r),r},update:async(s,e,t)=>{const r=await o.put(`/v1/workspaces/${s}/life-spheres/${e}`,t),d=r.data.data||r.data,p=a.value.findIndex(h=>h.id===e);return p!==-1&&(a.value[p]=d),d},remove:async(s,e)=>{await o.delete(`/v1/workspaces/${s}/life-spheres/${e}`),a.value=a.value.filter(t=>t.id!==e)},seedDefaults:async s=>{const e=await o.post(`/v1/workspaces/${s}/life-spheres/seed`),t=e.data.data||e.data||[];return a.value.push(...t),t}}});export{A as u};
