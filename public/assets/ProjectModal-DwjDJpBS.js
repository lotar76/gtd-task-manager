import{s as B,x as C,r as m,B as p,l as j,o as c,f as M,g as V,c as x,b as k,a as t,w as v,t as b,d as i,v as d,T as $,C as h}from"./index-BQ_tbw2b.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"flex min-h-screen items-center justify-center p-4"},U={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},S={class:"text-xl font-semibold text-gray-900 dark:text-white"},T={class:"flex items-center space-x-3"},L={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},N={class:"flex justify-end space-x-3 pt-4"},D=["disabled"],q={__name:"ProjectModal",props:{show:{type:Boolean,default:!1},project:{type:Object,default:null},serverError:{type:String,default:""}},emits:["close","submit"],setup(u,{emit:g}){const n=u,f=g,y=o=>{o.key==="Escape"&&n.show&&f("close")};B(()=>document.addEventListener("keydown",y)),C(()=>document.removeEventListener("keydown",y));const s=m({name:"",description:"",color:"#3B82F6"}),a=m(!1),r=m("");p(()=>n.project,o=>{o?s.value={name:o.name||"",description:o.description||"",color:o.color||"#3B82F6"}:s.value={name:"",description:"",color:"#3B82F6"},r.value=""},{immediate:!0}),p(()=>n.show,o=>{o||(a.value=!1,r.value="")}),p(()=>n.serverError,o=>{r.value=o,o&&(a.value=!1)});const w=()=>{r.value="",a.value=!0,f("submit",s.value)};return(o,e)=>(c(),j(h,{to:"body"},[M($,{name:"modal"},{default:V(()=>[u.show?(c(),x("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:e[7]||(e[7]=v(l=>o.$emit("close"),["self"]))},[e[12]||(e[12]=t("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),t("div",F,[t("div",{class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-auto",onClick:e[6]||(e[6]=v(()=>{},["stop"]))},[t("div",U,[t("h3",S,b(u.project?"Редактировать проект":"Новый проект"),1),t("button",{onClick:e[0]||(e[0]=l=>o.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...e[8]||(e[8]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:v(w,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[9]||(e[9]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Название проекта * ",-1)),i(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=l=>s.value.name=l),type:"text",required:"",class:"input",placeholder:"Введите название проекта"},null,512),[[d,s.value.name]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Описание ",-1)),i(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=l=>s.value.description=l),rows:"3",class:"input",placeholder:"Добавьте описание проекта"},null,512),[[d,s.value.description]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"color",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Цвет ",-1)),t("div",T,[i(t("input",{id:"color","onUpdate:modelValue":e[3]||(e[3]=l=>s.value.color=l),type:"color",class:"w-16 h-10 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"},null,512),[[d,s.value.color]]),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.color=l),type:"text",pattern:"^#[0-9A-Fa-f]{6}$",class:"input flex-1",placeholder:"#3B82F6"},null,512),[[d,s.value.color]])])]),r.value?(c(),x("div",L,b(r.value),1)):k("",!0),t("div",N,[t("button",{type:"button",onClick:e[5]||(e[5]=l=>o.$emit("close")),class:"btn btn-secondary"}," Отмена "),t("button",{type:"submit",disabled:a.value,class:"btn btn-primary"},b(a.value?"Сохранение...":"Сохранить"),9,D)])],32)])])])):k("",!0)]),_:1})]))}},I=E(q,[["__scopeId","data-v-bcfd951a"]]);export{I as P};
