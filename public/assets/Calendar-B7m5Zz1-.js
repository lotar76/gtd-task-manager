import{c as n,a as s,o as i,r as O,k as x,s as Me,x as Ye,b as g,f as k,p as y,A as B,t as l,F as v,z as _,E as P,w as I,e as Te}from"./index-BTCQYrbC.js";import{u as De,T as Ce,a as te}from"./TaskModal-dDtfw09a.js";import{g as re,c as se,d as h}from"./ru-D_ksFwAV.js";import{_ as Se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./workspace-BpPzoPNB.js";function $e(C,Y){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function Oe(C,Y){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}var oe={exports:{}};(function(C,Y){(function(u,m){C.exports=m()})(se,function(){return function(u,m){m.prototype.isSameOrAfter=function(b,f){return this.isSame(b,f)||this.isAfter(b,f)}}})})(oe);var He=oe.exports;const je=re(He);var ne={exports:{}};(function(C,Y){(function(u,m){C.exports=m()})(se,function(){return function(u,m){m.prototype.isSameOrBefore=function(b,f){return this.isSame(b,f)||this.isBefore(b,f)}}})})(ne);var Ne=ne.exports;const ke=re(Ne),Be={class:"p-2 sm:p-4 lg:p-8"},Ae={class:"max-w-7xl mx-auto"},Ee={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4 lg:mb-6"},ze={class:"flex items-center space-x-1 sm:space-x-2 mt-3 lg:mt-0 overflow-x-auto pb-2 lg:pb-0"},Pe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-4 lg:mb-6"},Ie={class:"flex items-center justify-between"},Fe={class:"text-base sm:text-lg font-semibold text-gray-900 text-center px-2"},Ve={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},We={class:"grid grid-cols-7 border-b border-gray-200"},Ge={class:"grid grid-cols-7"},Le=["onClick"],Ue={class:"flex flex-col h-full"},qe={class:"flex justify-between items-start mb-1"},Je={key:0,class:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 text-xs font-semibold bg-primary-600 text-white rounded-full"},Ke={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},Qe={class:"hidden lg:block overflow-x-auto"},Xe={class:"grid border-b border-gray-200",style:{gridTemplateColumns:"60px repeat(7, 1fr)"}},Ze={class:"font-semibold"},Re={class:"text-xs mt-1"},et={class:"grid border-b border-gray-200",style:{gridTemplateColumns:"60px repeat(7, 1fr)"}},tt={class:"border-r border-gray-200 bg-gray-50"},rt={class:"text-xs text-gray-500"},st={class:"relative"},ot={class:"absolute inset-0"},nt=["onClick"],it={class:"font-medium truncate"},at={key:0,class:"text-[10px] opacity-75 mt-0.5"},lt={key:0},dt={key:1},ut={key:2},mt={class:"grid border-t border-gray-200",style:{gridTemplateColumns:"60px repeat(7, 1fr)"}},ct={class:"space-y-1 min-w-0"},pt=["onClick"],gt={class:"font-medium truncate block"},yt={class:"lg:hidden overflow-x-auto"},ht={class:"flex min-w-max"},vt={class:"mb-3 sticky top-0 bg-inherit pb-2 border-b border-gray-200"},_t={class:"text-xs text-gray-500 mb-1"},xt={class:"space-y-2"},ft=["onClick"],bt={class:"font-medium text-sm mb-1"},wt={key:0,class:"text-xs text-gray-600 mt-1"},Mt={key:0},Yt={key:1},Tt={key:2},Dt={key:0,class:"text-xs text-gray-400 text-center py-4"},Ct={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},St={class:"p-3 sm:p-4 border-b border-gray-200"},$t={class:"text-base sm:text-lg font-semibold text-gray-900"},Ot={class:"hidden lg:block overflow-x-auto"},Ht={class:"grid border-b border-gray-200",style:{gridTemplateColumns:"60px 1fr"}},jt={class:"border-r border-gray-200 bg-gray-50"},Nt={class:"text-xs text-gray-500"},kt={class:"relative"},Bt={class:"relative"},At={class:"absolute inset-0"},Et=["onClick"],zt={class:"font-medium text-sm sm:text-base text-gray-900 mb-1"},Pt={key:0,class:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2"},It={class:"flex flex-wrap items-center gap-2 mt-2"},Ft={key:0,class:"text-xs text-gray-600 flex items-center"},Vt={key:0},Wt={key:1},Gt={key:2},Lt={class:"grid border-t border-gray-200",style:{gridTemplateColumns:"60px 1fr"}},Ut={class:"p-3"},qt={class:"space-y-2"},Jt=["onClick"],Kt={class:"font-medium text-sm sm:text-base text-gray-900 mb-1"},Qt={key:0,class:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2"},Xt={class:"flex flex-wrap items-center gap-2 mt-2"},Zt={class:"lg:hidden p-3 sm:p-4"},Rt={class:"space-y-2 sm:space-y-3"},er=["onClick"],tr={class:"flex items-start justify-between"},rr={class:"flex-1 min-w-0"},sr={class:"font-medium text-sm sm:text-base text-gray-900 mb-1"},or={key:0,class:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2"},nr={class:"flex flex-wrap items-center gap-2 mt-2"},ir={key:0,class:"text-xs text-gray-600 flex items-center"},ar={key:0},lr={key:1},dr={key:2},ur={key:0,class:"text-center py-8 sm:py-12 text-gray-500 text-sm sm:text-base"},mr={__name:"Calendar",setup(C){h.extend(je),h.extend(ke),h.locale("ru");const Y=De(),u=O(h());x(()=>Y.loading);const m=O("month"),b=O(!1),f=O(null),A=O(""),F=O(h()),J=x(()=>{if(m.value==="month")return{start:u.value.startOf("month").subtract(7,"days").format("YYYY-MM-DD"),end:u.value.endOf("month").add(7,"days").format("YYYY-MM-DD")};if(m.value==="week"){const r=u.value.startOf("week");return{start:r.format("YYYY-MM-DD"),end:r.add(6,"day").format("YYYY-MM-DD")}}else{const r=u.value.format("YYYY-MM-DD");return{start:r,end:r}}}),T=x(()=>Y.calendarTasks(J.value.start,J.value.end)),V=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],ie=x(()=>u.value.format("MMMM")),ae=x(()=>u.value.format("YYYY"));x(()=>{if(m.value!=="month"||T.value.length===0)return 0;const r=u.value.startOf("month"),t=u.value.endOf("month");return T.value.filter(a=>{if(!a.due_date||a.status==="completed")return!1;const o=h(a.due_date);return o.isValid()?o.isSameOrAfter(r,"day")&&o.isSameOrBefore(t,"day"):!1}).length});const le=x(()=>{if(m.value==="month")return`${ie.value} ${ae.value}`;if(m.value==="week"){const r=u.value.startOf("week"),t=r.add(6,"day");return r.month()===t.month()?`${r.format("D")} - ${t.format("D MMMM YYYY")}`:`${r.format("D MMM")} - ${t.format("D MMM YYYY")}`}else return u.value.format("D MMMM YYYY")}),H=x(()=>{const r=u.value.startOf("week"),t=[];for(let e=0;e<7;e++){const a=r.add(e,"day"),o=a.format("YYYY-MM-DD"),d=T.value.filter(p=>p.due_date&&h(p.due_date).format("YYYY-MM-DD")===o&&p.status!=="completed");t.push({day:a.date(),monthName:a.format("MMM"),date:o,isToday:a.isSame(h(),"day"),tasks:d})}return t}),E=x(()=>{const r=u.value.format("YYYY-MM-DD");return T.value.filter(t=>t.due_date&&h(t.due_date).format("YYYY-MM-DD")===r&&t.status!=="completed")}),K=x(()=>E.value.filter(r=>r.estimated_time||r.end_time)),de=x(()=>E.value.filter(r=>!r.estimated_time&&!r.end_time)),Q=r=>{if(!r||r.length===0)return Array.from({length:24},(o,d)=>d);let t=23,e=0;r.forEach(o=>{const d=o.estimated_time||o.end_time,p=o.end_time||o.estimated_time;if(d){const w=c(d),[M]=w.split(":").map(Number);t=Math.min(t,M),e=Math.max(e,M)}if(p){const w=c(p),[M]=w.split(":").map(Number);t=Math.min(t,M),e=Math.max(e,M)}}),t=Math.max(0,Math.floor(t)-1),e=Math.min(23,Math.ceil(e)+1);const a=[];for(let o=t;o<=e;o++)a.push(o);return a.length>0?a:Array.from({length:24},(o,d)=>d)},j=x(()=>Q(K.value)),N=x(()=>{const r=H.value.flatMap(t=>Z(t.date));return Q(r)}),ue=x(()=>{const r=[],t=u.value.startOf("month"),e=u.value.endOf("month"),a=t.day()===0?6:t.day()-1;for(let d=a-1;d>=0;d--){const p=t.subtract(d+1,"day");r.push(W(p,!1))}for(let d=0;d<e.date();d++){const p=t.add(d,"day");r.push(W(p,!0))}const o=42-r.length;for(let d=0;d<o;d++){const p=e.add(d+1,"day");r.push(W(p,!1))}return r}),W=(r,t)=>{const e=r.format("YYYY-MM-DD"),a=T.value.filter(o=>o.due_date&&h(o.due_date).format("YYYY-MM-DD")===e&&o.status!=="completed");return{day:r.date(),date:e,currentMonth:t,isToday:r.isSame(h(),"day"),taskCount:a.length,tasks:a}},me=()=>{m.value==="month"?u.value=u.value.subtract(1,"month"):m.value==="week"?u.value=u.value.subtract(1,"week"):u.value=u.value.subtract(1,"day")},ce=()=>{m.value==="month"?u.value=u.value.add(1,"month"):m.value==="week"?u.value=u.value.add(1,"week"):u.value=u.value.add(1,"day")},c=r=>r?/^\d{2}:\d{2}$/.test(r)?r:r.substring(0,5):"",X=r=>`${r.toString().padStart(2,"0")}:00`,Z=r=>T.value.filter(t=>t.due_date&&h(t.due_date).format("YYYY-MM-DD")===r&&t.status!=="completed"&&(t.estimated_time||t.end_time)),pe=r=>T.value.filter(t=>t.due_date&&h(t.due_date).format("YYYY-MM-DD")===r&&t.status!=="completed"&&!t.estimated_time&&!t.end_time),z=(r=null)=>{if(!r||r.length===0)return null;const t=F.value,e=t.hour(),a=t.minute(),o=r[0],d=r[r.length-1];if(e<o||e>d)return null;const p=64,w=e*60+a,M=o*60,D=(w-M)/60*p;return Math.max(0,D)},R=(r,t=null)=>{if(!r.estimated_time&&!r.end_time)return{display:"none"};const e=r.estimated_time||r.end_time,a=r.end_time||r.estimated_time;if(!e||!a)return{display:"none"};const o=c(e),d=c(a),[p,w]=o.split(":").map(Number),[M,D]=d.split(":").map(Number),_e=t&&t.length>0?t[0]:0,ee=64,U=p*60+w,xe=_e*60,fe=(U-xe)/60*ee;let q=M*60+D;q<U&&(q+=24*60);const be=(q-U)/60*ee,we=Math.max(be,40);return{top:`${Math.max(0,fe)}px`,height:`${we}px`}},ge=r=>{if(!r.estimated_time||!r.end_time)return 0;const t=c(r.estimated_time),e=c(r.end_time);if(!t||!e)return 0;const[a,o]=t.split(":").map(Number),[d,p]=e.split(":").map(Number),w=a*60+o;let D=d*60+p-w;return D<0&&(D+=24*60),D/60},S=r=>{if(r.status==="completed")return"bg-gray-100";const t=ge(r);return t===0||t<1?"bg-gradient-to-l from-white via-green-50 to-green-100":t>=1&&t<2?"bg-gradient-to-l from-white via-orange-50 to-orange-100":t>=2?"bg-gradient-to-l from-white via-red-50 to-red-100":"bg-white"},G=r=>({high:"Высокий",medium:"Средний",low:"Низкий",urgent:"Срочный"})[r]||r,$=r=>{f.value=r,b.value=!0},ye=r=>{u.value=h(r),m.value="day"},he=async r=>{var t,e,a,o;A.value="";try{f.value?await Y.updateTask(f.value.id,r):await Y.createTask(r),b.value=!1,f.value=null}catch(d){console.error("Error saving task:",d);let p="Ошибка при сохранении задачи";(e=(t=d.response)==null?void 0:t.data)!=null&&e.errors?p=Object.values(d.response.data.errors).flat().join(", "):(o=(a=d.response)==null?void 0:a.data)!=null&&o.message&&(p=d.response.data.message),A.value=p}},ve=()=>{b.value=!1,f.value=null,A.value=""};let L=null;return Me(()=>{F.value=h(),L=setInterval(()=>{F.value=h()},6e4)}),Ye(()=>{L&&clearInterval(L)}),(r,t)=>(i(),n("div",Be,[s("div",Ae,[s("div",Ee,[t[3]||(t[3]=s("div",null,[s("h1",{class:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900"},"Календарь")],-1)),s("div",ze,[s("button",{onClick:t[0]||(t[0]=e=>m.value="day"),class:y(["px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors whitespace-nowrap touch-manipulation",m.value==="day"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 active:bg-gray-200"])}," День ",2),s("button",{onClick:t[1]||(t[1]=e=>m.value="week"),class:y(["px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors whitespace-nowrap touch-manipulation",m.value==="week"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 active:bg-gray-200"])}," Неделя ",2),s("button",{onClick:t[2]||(t[2]=e=>m.value="month"),class:y(["px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors whitespace-nowrap touch-manipulation",m.value==="month"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 active:bg-gray-200"])}," Месяц ",2)])]),s("div",Pe,[s("div",Ie,[s("button",{onClick:me,class:"p-2 sm:p-3 rounded-lg bg-gray-100 hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation"},[k(B($e),{class:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700"})]),s("h2",Fe,l(le.value),1),s("button",{onClick:ce,class:"p-2 sm:p-3 rounded-lg bg-gray-100 hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation"},[k(B(Oe),{class:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700"})])])]),m.value==="month"?(i(),n("div",Ve,[s("div",We,[(i(),n(v,null,_(V,e=>s("div",{key:e,class:"text-center py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-700 border-r border-gray-200 last:border-r-0"},l(e),1)),64))]),s("div",Ge,[(i(!0),n(v,null,_(ue.value,(e,a)=>(i(),n("div",{key:a,onClick:o=>ye(e.date),class:y(["min-h-[60px] sm:min-h-[80px] lg:min-h-[100px] border-b border-r border-gray-200 last:border-r-0 p-1 sm:p-2 cursor-pointer touch-manipulation hover:bg-gray-50 active:bg-gray-100 transition-colors",{"bg-gray-50":!e.currentMonth,"bg-primary-50 hover:bg-primary-100":e.isToday}])},[s("div",Ue,[s("div",qe,[s("span",{class:y(["text-xs sm:text-sm font-medium",{"text-gray-400":!e.currentMonth,"text-primary-700":e.isToday,"text-gray-900":e.currentMonth&&!e.isToday}])},l(e.day),3),e.taskCount>0?(i(),n("span",Je,l(e.taskCount),1)):g("",!0)])])],10,Le))),128))])])):g("",!0),m.value==="week"?(i(),n("div",Ke,[s("div",Qe,[s("div",Xe,[t[4]||(t[4]=s("div",{class:"border-r border-gray-200"},null,-1)),(i(!0),n(v,null,_(H.value,(e,a)=>(i(),n("div",{key:a,class:y(["text-center py-3 text-sm font-medium text-gray-700 border-r border-gray-200 last:border-r-0",{"bg-primary-50":e.isToday}])},[s("div",Ze,l(V[a]),1),s("div",Re,l(e.day)+" "+l(e.monthName),1)],2))),128))]),s("div",et,[s("div",tt,[(i(!0),n(v,null,_(N.value,e=>(i(),n("div",{key:e,class:"h-16 border-b border-gray-200 flex items-start justify-end pr-2 pt-1"},[s("span",rt,l(X(e)),1)]))),128))]),(i(!0),n(v,null,_(H.value,(e,a)=>(i(),n("div",{key:a,class:y(["border-r border-gray-200 last:border-r-0 relative",{"bg-primary-50/30":e.isToday}])},[s("div",st,[(i(!0),n(v,null,_(N.value,o=>(i(),n("div",{key:o,class:"h-16 border-b border-gray-100"}))),128)),e.isToday&&z(N.value)?(i(),n("div",{key:0,class:"absolute left-0 right-0 z-20 pointer-events-none",style:P({top:z(N.value)+"px"})},[...t[5]||(t[5]=[s("div",{class:"flex items-center"},[s("div",{class:"w-2 h-2 bg-red-500 rounded-full -ml-1"}),s("div",{class:"flex-1 h-0.5 bg-red-500"})],-1)])],4)):g("",!0),s("div",ot,[(i(!0),n(v,null,_(Z(e.date),o=>(i(),n("div",{key:o.id,onClick:I(d=>$(o),["stop"]),class:y(["absolute left-1 right-1 rounded cursor-pointer p-1.5 text-xs touch-manipulation border-l-2 shadow-sm z-10",[o.status==="completed"?"bg-gray-100 text-gray-500 line-through border-gray-300":S(o)+" text-primary-700 border-primary-500"]]),style:P(R(o,N.value))},[s("div",it,l(o.title),1),o.estimated_time||o.end_time?(i(),n("div",at,[o.estimated_time&&o.end_time?(i(),n("span",lt,l(c(o.estimated_time))+" - "+l(c(o.end_time)),1)):o.end_time?(i(),n("span",dt," до "+l(c(o.end_time)),1)):o.estimated_time?(i(),n("span",ut,l(c(o.estimated_time)),1)):g("",!0)])):g("",!0)],14,nt))),128))])])],2))),128))]),s("div",mt,[t[6]||(t[6]=s("div",{class:"border-r border-gray-200 bg-gray-50 p-2"},[s("span",{class:"text-xs text-gray-500"},"Без времени")],-1)),(i(!0),n(v,null,_(H.value,(e,a)=>(i(),n("div",{key:a,class:y(["border-r border-gray-200 last:border-r-0 p-2",{"bg-primary-50/30":e.isToday}])},[s("div",ct,[(i(!0),n(v,null,_(pe(e.date),o=>(i(),n("div",{key:o.id,onClick:I(d=>$(o),["stop"]),class:y(["p-1.5 rounded cursor-pointer text-xs touch-manipulation border-l-2 w-full max-w-full overflow-hidden",[o.status==="completed"?"bg-gray-100 text-gray-500 line-through border-gray-300":S(o)+" text-primary-700 border-primary-500"]])},[s("div",gt,l(o.title),1)],10,pt))),128))])],2))),128))])]),s("div",yt,[s("div",ht,[(i(!0),n(v,null,_(H.value,(e,a)=>(i(),n("div",{key:a,class:y(["w-[280px] min-w-[280px] border-r border-gray-200 last:border-r-0 p-3",{"bg-primary-50":e.isToday}])},[s("div",vt,[s("div",_t,l(V[a]),1),s("span",{class:y(["text-base font-semibold",{"text-primary-700":e.isToday,"text-gray-900":!e.isToday}])},l(e.day)+" "+l(e.monthName),3)]),s("div",xt,[(i(!0),n(v,null,_(e.tasks,o=>(i(),n("div",{key:o.id,onClick:d=>$(o),class:y(["p-3 rounded-lg cursor-pointer touch-manipulation border-l-4",[o.status==="completed"?"bg-gray-100 text-gray-500 line-through border-gray-300":S(o)+" text-primary-700 border-primary-500"]])},[s("div",bt,l(o.title),1),o.estimated_time||o.end_time?(i(),n("div",wt,[t[7]||(t[7]=Te(" ⏱ ",-1)),o.estimated_time&&o.end_time?(i(),n("span",Mt,l(c(o.estimated_time))+" - "+l(c(o.end_time)),1)):o.estimated_time?(i(),n("span",Yt,l(c(o.estimated_time)),1)):o.end_time?(i(),n("span",Tt," до "+l(c(o.end_time)),1)):g("",!0)])):g("",!0)],10,ft))),128)),e.tasks.length===0?(i(),n("div",Dt," Нет задач ")):g("",!0)])],2))),128))])])])):g("",!0),m.value==="day"?(i(),n("div",Ct,[s("div",St,[s("h3",$t,l(u.value.format("D MMMM YYYY")),1)]),s("div",Ot,[s("div",Ht,[s("div",jt,[(i(!0),n(v,null,_(j.value,e=>(i(),n("div",{key:e,class:"h-16 border-b border-gray-200 flex items-start justify-end pr-2 pt-1"},[s("span",Nt,l(X(e)),1)]))),128))]),s("div",kt,[s("div",Bt,[(i(!0),n(v,null,_(j.value,e=>(i(),n("div",{key:e,class:"h-16 border-b border-gray-100"}))),128)),u.value.isSame(B(h)(),"day")&&z(j.value)?(i(),n("div",{key:0,class:"absolute left-0 right-0 z-20 pointer-events-none",style:P({top:z(j.value)+"px"})},[...t[8]||(t[8]=[s("div",{class:"flex items-center"},[s("div",{class:"w-2 h-2 bg-red-500 rounded-full -ml-1"}),s("div",{class:"flex-1 h-0.5 bg-red-500"})],-1)])],4)):g("",!0),s("div",At,[(i(!0),n(v,null,_(K.value,e=>(i(),n("div",{key:e.id,onClick:I(a=>$(e),["stop"]),class:y(["absolute left-2 right-2 rounded-lg cursor-pointer p-2 sm:p-3 border-l-4 shadow-sm z-10 touch-manipulation",[e.status==="completed"?"bg-gray-50 border-gray-300 line-through":S(e)+" border-primary-500"]]),style:P(R(e,j.value))},[s("div",zt,l(e.title),1),e.description?(i(),n("div",Pt,l(e.description),1)):g("",!0),s("div",It,[e.estimated_time||e.end_time?(i(),n("span",Ft,[k(B(te),{class:"w-3 h-3 mr-1"}),e.estimated_time&&e.end_time?(i(),n("span",Vt,l(c(e.estimated_time))+" - "+l(c(e.end_time)),1)):e.estimated_time?(i(),n("span",Wt,l(c(e.estimated_time)),1)):e.end_time?(i(),n("span",Gt," до "+l(c(e.end_time)),1)):g("",!0)])):g("",!0),s("span",{class:y(["text-xs px-2 py-0.5 rounded-full",{"bg-red-100 text-red-700":e.priority==="urgent","bg-primary-100 text-primary-700":e.priority==="high","bg-yellow-100 text-yellow-700":e.priority==="medium","bg-gray-100 text-gray-700":e.priority==="low"}])},l(G(e.priority)),3)])],14,Et))),128))])])])]),s("div",Lt,[t[9]||(t[9]=s("div",{class:"border-r border-gray-200 bg-gray-50 p-3"},[s("span",{class:"text-xs text-gray-500 font-medium"},"Без времени")],-1)),s("div",Ut,[s("div",qt,[(i(!0),n(v,null,_(de.value,e=>(i(),n("div",{key:e.id,onClick:I(a=>$(e),["stop"]),class:y(["p-3 rounded-lg cursor-pointer border-l-4 touch-manipulation",[e.status==="completed"?"bg-gray-50 border-gray-300 line-through":S(e)+" border-primary-500"]])},[s("div",Kt,l(e.title),1),e.description?(i(),n("div",Qt,l(e.description),1)):g("",!0),s("div",Xt,[s("span",{class:y(["text-xs px-2 py-0.5 rounded-full",{"bg-red-100 text-red-700":e.priority==="urgent","bg-primary-100 text-primary-700":e.priority==="high","bg-yellow-100 text-yellow-700":e.priority==="medium","bg-gray-100 text-gray-700":e.priority==="low"}])},l(G(e.priority)),3)])],10,Jt))),128))])])])]),s("div",Zt,[s("div",Rt,[(i(!0),n(v,null,_(E.value,e=>(i(),n("div",{key:e.id,onClick:a=>$(e),class:y(["p-3 sm:p-4 rounded-lg cursor-pointer border-l-4 touch-manipulation active:scale-[0.98] transition-transform",[e.status==="completed"?"bg-gray-50 border-gray-300 line-through":S(e)+" border-primary-500"]])},[s("div",tr,[s("div",rr,[s("div",sr,l(e.title),1),e.description?(i(),n("div",or,l(e.description),1)):g("",!0),s("div",nr,[e.estimated_time||e.end_time?(i(),n("span",ir,[k(B(te),{class:"w-3 h-3 mr-1"}),e.estimated_time&&e.end_time?(i(),n("span",ar,l(c(e.estimated_time))+" - "+l(c(e.end_time)),1)):e.estimated_time?(i(),n("span",lr,l(c(e.estimated_time)),1)):e.end_time?(i(),n("span",dr," до "+l(c(e.end_time)),1)):g("",!0)])):g("",!0),s("span",{class:y(["text-xs px-2 py-0.5 rounded-full",{"bg-red-100 text-red-700":e.priority==="urgent","bg-primary-100 text-primary-700":e.priority==="high","bg-yellow-100 text-yellow-700":e.priority==="medium","bg-gray-100 text-gray-700":e.priority==="low"}])},l(G(e.priority)),3)])])])],10,er))),128)),E.value.length===0?(i(),n("div",ur," Нет задач на этот день ")):g("",!0)])])])):g("",!0),k(Ce,{show:b.value,task:f.value,"server-error":A.value,onClose:ve,onSubmit:he},null,8,["show","task","server-error"])])]))}},xr=Se(mr,[["__scopeId","data-v-15459997"]]);export{xr as default};
