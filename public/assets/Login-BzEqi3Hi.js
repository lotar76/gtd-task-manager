import{u as g,r as i,c as n,a as t,w as b,b as k,d as m,v as u,t as p,e as x,f as w,g as _,h,i as V,o as c}from"./index-BJYz_qWG.js";const S={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 px-4"},D={class:"max-w-md w-full"},N={class:"card"},T={key:0,class:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg"},B=["disabled"],C={class:"mt-6 text-center"},q={class:"text-sm text-gray-600 dark:text-gray-400"},O={__name:"Login",setup(E){const v=V(),y=g(),a=i({email:"",password:""}),s=i(""),r=i(!1),f=async()=>{var o,e;s.value="",r.value=!0;try{await y.login(a.value),v.push("/")}catch(l){s.value=((e=(o=l.response)==null?void 0:o.data)==null?void 0:e.message)||"Ошибка входа"}finally{r.value=!1}};return(o,e)=>{const l=h("router-link");return c(),n("div",S,[t("div",D,[t("div",N,[e[6]||(e[6]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"GTD TODO"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-2"},"Войдите в свой аккаунт")],-1)),t("form",{onSubmit:b(f,["prevent"]),class:"space-y-6"},[t("div",null,[e[2]||(e[2]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email ",-1)),m(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=d=>a.value.email=d),type:"email",required:"",class:"input",placeholder:"example@email.com"},null,512),[[u,a.value.email]])]),t("div",null,[e[3]||(e[3]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Пароль ",-1)),m(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=d=>a.value.password=d),type:"password",required:"",class:"input",placeholder:"••••••••"},null,512),[[u,a.value.password]])]),s.value?(c(),n("div",T,p(s.value),1)):k("",!0),t("button",{type:"submit",disabled:r.value,class:"w-full btn btn-primary"},p(r.value?"Вход...":"Войти"),9,B)],32),t("div",C,[t("p",q,[e[5]||(e[5]=x(" Нет аккаунта? ",-1)),w(l,{to:"/register",class:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium"},{default:_(()=>[...e[4]||(e[4]=[x(" Зарегистрироваться ",-1)])]),_:1})])])])])])}}};export{O as default};
