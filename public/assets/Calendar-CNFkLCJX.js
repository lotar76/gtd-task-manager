import{c as n,a as s,o as i,r as C,k as x,s as Te,x as De,b as g,f as H,p as y,A as k,t as l,F as v,z as _,E as I,w as A,e as Ce}from"./index-CJ9lnRtf.js";import{u as Se,T as $e,a as re}from"./TaskModal-D2Mx6xVH.js";import{g as se,c as oe,d as h}from"./ru-B7JyRvIu.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as He}from"./PlusIcon-B0XHb5_A.js";import"./workspace-D0jFZ4O6.js";function ke(S,Y){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function je(S,Y){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}var ne={exports:{}};(function(S,Y){(function(u,c){S.exports=c()})(oe,function(){return function(u,c){c.prototype.isSameOrAfter=function(b,f){return this.isSame(b,f)||this.isAfter(b,f)}}})})(ne);var Ne=ne.exports;const Be=se(Ne);var ie={exports:{}};(function(S,Y){(function(u,c){S.exports=c()})(oe,function(){return function(u,c){c.prototype.isSameOrBefore=function(b,f){return this.isSame(b,f)||this.isBefore(b,f)}}})})(ie);var Ae=ie.exports;const Ee=se(Ae),ze={class:"p-2 sm:p-4 lg:p-8"},Pe={class:"max-w-7xl mx-auto"},Fe={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4 lg:mb-6"},Ie={class:"flex items-center space-x-1 sm:space-x-2 mt-3 lg:mt-0 overflow-x-auto pb-2 lg:pb-0"},Ve={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-4 lg:mb-6"},We={class:"flex items-center justify-between"},Ge={class:"text-base sm:text-lg font-semibold text-gray-900 text-center px-2"},Le={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},Ue={class:"grid grid-cols-7 border-b border-gray-200"},qe={class:"grid grid-cols-7"},Je=["onClick"],Ke={class:"flex flex-col h-full"},Qe={class:"flex justify-between items-start mb-1"},Xe={key:0,class:"inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 text-xs font-semibold bg-primary-600 text-white rounded-full"},Ze={key:0,class:"flex-1 flex items-center justify-center"},Re=["onClick"],et={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},tt={class:"hidden lg:block overflow-x-auto"},rt={class:"grid border-b border-gray-200",style:{gridTemplateColumns:"60px repeat(7, 1fr)"}},st={class:"font-semibold"},ot={class:"text-xs mt-1"},nt={class:"grid border-b border-gray-200",style:{gridTemplateColumns:"60px repeat(7, 1fr)"}},it={class:"border-r border-gray-200 bg-gray-50"},at={class:"text-xs text-gray-500"},lt={class:"relative"},dt={class:"absolute inset-0"},ut=["onClick"],ct={class:"font-medium truncate"},mt={key:0,class:"text-[10px] opacity-75 mt-0.5"},pt={key:0},gt={key:1},yt={key:2},ht={class:"grid border-t border-gray-200",style:{gridTemplateColumns:"60px repeat(7, 1fr)"}},vt={class:"space-y-1 min-w-0"},_t=["onClick"],xt={class:"font-medium truncate block"},ft={class:"lg:hidden overflow-x-auto"},bt={class:"flex min-w-max"},wt={class:"mb-3 sticky top-0 bg-inherit pb-2 border-b border-gray-200"},Mt={class:"text-xs text-gray-500 mb-1"},Yt={class:"space-y-2"},Tt=["onClick"],Dt={class:"font-medium text-sm mb-1"},Ct={key:0,class:"text-xs text-gray-600 mt-1"},St={key:0},$t={key:1},Ot={key:2},Ht={key:0,class:"text-xs text-gray-400 text-center py-4"},kt={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},jt={class:"p-3 sm:p-4 border-b border-gray-200"},Nt={class:"text-base sm:text-lg font-semibold text-gray-900"},Bt={class:"hidden lg:block overflow-x-auto"},At={class:"grid border-b border-gray-200",style:{gridTemplateColumns:"60px 1fr"}},Et={class:"border-r border-gray-200 bg-gray-50"},zt={class:"text-xs text-gray-500"},Pt={class:"relative"},Ft={class:"relative"},It={class:"absolute inset-0"},Vt=["onClick"],Wt={class:"font-medium text-sm sm:text-base text-gray-900 mb-1"},Gt={key:0,class:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2"},Lt={class:"flex flex-wrap items-center gap-2 mt-2"},Ut={key:0,class:"text-xs text-gray-600 flex items-center"},qt={key:0},Jt={key:1},Kt={key:2},Qt={class:"grid border-t border-gray-200",style:{gridTemplateColumns:"60px 1fr"}},Xt={class:"p-3"},Zt={class:"space-y-2"},Rt=["onClick"],er={class:"font-medium text-sm sm:text-base text-gray-900 mb-1"},tr={key:0,class:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2"},rr={class:"flex flex-wrap items-center gap-2 mt-2"},sr={class:"lg:hidden p-3 sm:p-4"},or={class:"space-y-2 sm:space-y-3"},nr=["onClick"],ir={class:"flex items-start justify-between"},ar={class:"flex-1 min-w-0"},lr={class:"font-medium text-sm sm:text-base text-gray-900 mb-1"},dr={key:0,class:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2"},ur={class:"flex flex-wrap items-center gap-2 mt-2"},cr={key:0,class:"text-xs text-gray-600 flex items-center"},mr={key:0},pr={key:1},gr={key:2},yr={key:0,class:"text-center py-8 sm:py-12 text-gray-500 text-sm sm:text-base"},hr={__name:"Calendar",setup(S){h.extend(Be),h.extend(Ee),h.locale("ru");const Y=Se(),u=C(h());x(()=>Y.loading);const c=C("month"),b=C(!1),f=C(null),E=C(""),z=C(""),V=C(h()),K=x(()=>{if(c.value==="month")return{start:u.value.startOf("month").subtract(7,"days").format("YYYY-MM-DD"),end:u.value.endOf("month").add(7,"days").format("YYYY-MM-DD")};if(c.value==="week"){const t=u.value.startOf("week");return{start:t.format("YYYY-MM-DD"),end:t.add(6,"day").format("YYYY-MM-DD")}}else{const t=u.value.format("YYYY-MM-DD");return{start:t,end:t}}}),T=x(()=>Y.calendarTasks(K.value.start,K.value.end)),W=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],ae=x(()=>u.value.format("MMMM")),le=x(()=>u.value.format("YYYY"));x(()=>{if(c.value!=="month"||T.value.length===0)return 0;const t=u.value.startOf("month"),r=u.value.endOf("month");return T.value.filter(a=>{if(!a.due_date||a.status==="completed")return!1;const o=h(a.due_date);return o.isValid()?o.isSameOrAfter(t,"day")&&o.isSameOrBefore(r,"day"):!1}).length});const de=x(()=>{if(c.value==="month")return`${ae.value} ${le.value}`;if(c.value==="week"){const t=u.value.startOf("week"),r=t.add(6,"day");return t.month()===r.month()?`${t.format("D")} - ${r.format("D MMMM YYYY")}`:`${t.format("D MMM")} - ${r.format("D MMM YYYY")}`}else return u.value.format("D MMMM YYYY")}),j=x(()=>{const t=u.value.startOf("week"),r=[];for(let e=0;e<7;e++){const a=t.add(e,"day"),o=a.format("YYYY-MM-DD"),d=T.value.filter(p=>p.due_date&&h(p.due_date).format("YYYY-MM-DD")===o&&p.status!=="completed");r.push({day:a.date(),monthName:a.format("MMM"),date:o,isToday:a.isSame(h(),"day"),tasks:d})}return r}),P=x(()=>{const t=u.value.format("YYYY-MM-DD");return T.value.filter(r=>r.due_date&&h(r.due_date).format("YYYY-MM-DD")===t&&r.status!=="completed")}),Q=x(()=>P.value.filter(t=>t.estimated_time||t.end_time)),ue=x(()=>P.value.filter(t=>!t.estimated_time&&!t.end_time)),X=t=>{if(!t||t.length===0)return Array.from({length:24},(o,d)=>d);let r=23,e=0;t.forEach(o=>{const d=o.estimated_time||o.end_time,p=o.end_time||o.estimated_time;if(d){const w=m(d),[M]=w.split(":").map(Number);r=Math.min(r,M),e=Math.max(e,M)}if(p){const w=m(p),[M]=w.split(":").map(Number);r=Math.min(r,M),e=Math.max(e,M)}}),r=Math.max(0,Math.floor(r)-1),e=Math.min(23,Math.ceil(e)+1);const a=[];for(let o=r;o<=e;o++)a.push(o);return a.length>0?a:Array.from({length:24},(o,d)=>d)},N=x(()=>X(Q.value)),B=x(()=>{const t=j.value.flatMap(r=>R(r.date));return X(t)}),ce=x(()=>{const t=[],r=u.value.startOf("month"),e=u.value.endOf("month"),a=r.day()===0?6:r.day()-1;for(let d=a-1;d>=0;d--){const p=r.subtract(d+1,"day");t.push(G(p,!1))}for(let d=0;d<e.date();d++){const p=r.add(d,"day");t.push(G(p,!0))}const o=42-t.length;for(let d=0;d<o;d++){const p=e.add(d+1,"day");t.push(G(p,!1))}return t}),G=(t,r)=>{const e=t.format("YYYY-MM-DD"),a=T.value.filter(o=>o.due_date&&h(o.due_date).format("YYYY-MM-DD")===e&&o.status!=="completed");return{day:t.date(),date:e,currentMonth:r,isToday:t.isSame(h(),"day"),taskCount:a.length,tasks:a}},me=()=>{c.value==="month"?u.value=u.value.subtract(1,"month"):c.value==="week"?u.value=u.value.subtract(1,"week"):u.value=u.value.subtract(1,"day")},pe=()=>{c.value==="month"?u.value=u.value.add(1,"month"):c.value==="week"?u.value=u.value.add(1,"week"):u.value=u.value.add(1,"day")},m=t=>t?/^\d{2}:\d{2}$/.test(t)?t:t.substring(0,5):"",Z=t=>`${t.toString().padStart(2,"0")}:00`,R=t=>T.value.filter(r=>r.due_date&&h(r.due_date).format("YYYY-MM-DD")===t&&r.status!=="completed"&&(r.estimated_time||r.end_time)),ge=t=>T.value.filter(r=>r.due_date&&h(r.due_date).format("YYYY-MM-DD")===t&&r.status!=="completed"&&!r.estimated_time&&!r.end_time),F=(t=null)=>{if(!t||t.length===0)return null;const r=V.value,e=r.hour(),a=r.minute(),o=t[0],d=t[t.length-1];if(e<o||e>d)return null;const p=64,w=e*60+a,M=o*60,D=(w-M)/60*p;return Math.max(0,D)},ee=(t,r=null)=>{if(!t.estimated_time&&!t.end_time)return{display:"none"};const e=t.estimated_time||t.end_time,a=t.end_time||t.estimated_time;if(!e||!a)return{display:"none"};const o=m(e),d=m(a),[p,w]=o.split(":").map(Number),[M,D]=d.split(":").map(Number),fe=r&&r.length>0?r[0]:0,te=64,q=p*60+w,be=fe*60,we=(q-be)/60*te;let J=M*60+D;J<q&&(J+=24*60);const Me=(J-q)/60*te,Ye=Math.max(Me,40);return{top:`${Math.max(0,we)}px`,height:`${Ye}px`}},ye=t=>{if(!t.estimated_time||!t.end_time)return 0;const r=m(t.estimated_time),e=m(t.end_time);if(!r||!e)return 0;const[a,o]=r.split(":").map(Number),[d,p]=e.split(":").map(Number),w=a*60+o;let D=d*60+p-w;return D<0&&(D+=24*60),D/60},$=t=>{if(t.status==="completed")return"bg-gray-100";const r=ye(t);return r===0||r<1?"bg-gradient-to-l from-white via-green-50 to-green-100":r>=1&&r<2?"bg-gradient-to-l from-white via-orange-50 to-orange-100":r>=2?"bg-gradient-to-l from-white via-red-50 to-red-100":"bg-white"},L=t=>({high:"Высокий",medium:"Средний",low:"Низкий",urgent:"Срочный"})[t]||t,O=t=>{f.value=t,z.value="",b.value=!0},he=t=>{f.value=null,z.value=t,b.value=!0},ve=t=>{u.value=h(t),c.value="day"},_e=async t=>{var r,e,a,o;E.value="";try{f.value?await Y.updateTask(f.value.id,t):await Y.createTask(t),b.value=!1,f.value=null}catch(d){console.error("Error saving task:",d);let p="Ошибка при сохранении задачи";(e=(r=d.response)==null?void 0:r.data)!=null&&e.errors?p=Object.values(d.response.data.errors).flat().join(", "):(o=(a=d.response)==null?void 0:a.data)!=null&&o.message&&(p=d.response.data.message),E.value=p}},xe=()=>{b.value=!1,f.value=null,z.value="",E.value=""};let U=null;return Te(()=>{V.value=h(),U=setInterval(()=>{V.value=h()},6e4)}),De(()=>{U&&clearInterval(U)}),(t,r)=>(i(),n("div",ze,[s("div",Pe,[s("div",Fe,[r[3]||(r[3]=s("div",null,[s("h1",{class:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900"},"Календарь")],-1)),s("div",Ie,[s("button",{onClick:r[0]||(r[0]=e=>c.value="day"),class:y(["px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors whitespace-nowrap touch-manipulation",c.value==="day"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 active:bg-gray-200"])}," День ",2),s("button",{onClick:r[1]||(r[1]=e=>c.value="week"),class:y(["px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors whitespace-nowrap touch-manipulation",c.value==="week"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 active:bg-gray-200"])}," Неделя ",2),s("button",{onClick:r[2]||(r[2]=e=>c.value="month"),class:y(["px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors whitespace-nowrap touch-manipulation",c.value==="month"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 active:bg-gray-200"])}," Месяц ",2)])]),s("div",Ve,[s("div",We,[s("button",{onClick:me,class:"p-2 sm:p-3 rounded-lg bg-gray-100 hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation"},[H(k(ke),{class:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700"})]),s("h2",Ge,l(de.value),1),s("button",{onClick:pe,class:"p-2 sm:p-3 rounded-lg bg-gray-100 hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation"},[H(k(je),{class:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700"})])])]),c.value==="month"?(i(),n("div",Le,[s("div",Ue,[(i(),n(v,null,_(W,e=>s("div",{key:e,class:"text-center py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-700 border-r border-gray-200 last:border-r-0"},l(e),1)),64))]),s("div",qe,[(i(!0),n(v,null,_(ce.value,(e,a)=>(i(),n("div",{key:a,onClick:o=>ve(e.date),class:y(["min-h-[60px] sm:min-h-[80px] lg:min-h-[100px] border-b border-r border-gray-200 last:border-r-0 p-1 sm:p-2 cursor-pointer touch-manipulation hover:bg-gray-50 active:bg-gray-100 transition-colors",{"bg-gray-50":!e.currentMonth,"bg-primary-50 hover:bg-primary-100":e.isToday}])},[s("div",Ke,[s("div",Qe,[s("span",{class:y(["text-xs sm:text-sm font-medium",{"text-gray-400":!e.currentMonth,"text-primary-700":e.isToday,"text-gray-900":e.currentMonth&&!e.isToday}])},l(e.day),3),e.taskCount>0?(i(),n("span",Xe,l(e.taskCount),1)):g("",!0)]),e.taskCount===0&&e.currentMonth?(i(),n("div",Ze,[s("button",{onClick:A(o=>he(e.date),["stop"]),class:"w-6 h-6 flex items-center justify-center rounded-full text-gray-300 hover:text-gray-500 hover:bg-gray-100 transition-colors"},[H(k(He),{class:"w-4 h-4"})],8,Re)])):g("",!0)])],10,Je))),128))])])):g("",!0),c.value==="week"?(i(),n("div",et,[s("div",tt,[s("div",rt,[r[4]||(r[4]=s("div",{class:"border-r border-gray-200"},null,-1)),(i(!0),n(v,null,_(j.value,(e,a)=>(i(),n("div",{key:a,class:y(["text-center py-3 text-sm font-medium text-gray-700 border-r border-gray-200 last:border-r-0",{"bg-primary-50":e.isToday}])},[s("div",st,l(W[a]),1),s("div",ot,l(e.day)+" "+l(e.monthName),1)],2))),128))]),s("div",nt,[s("div",it,[(i(!0),n(v,null,_(B.value,e=>(i(),n("div",{key:e,class:"h-16 border-b border-gray-200 flex items-start justify-end pr-2 pt-1"},[s("span",at,l(Z(e)),1)]))),128))]),(i(!0),n(v,null,_(j.value,(e,a)=>(i(),n("div",{key:a,class:y(["border-r border-gray-200 last:border-r-0 relative",{"bg-primary-50/30":e.isToday}])},[s("div",lt,[(i(!0),n(v,null,_(B.value,o=>(i(),n("div",{key:o,class:"h-16 border-b border-gray-100"}))),128)),e.isToday&&F(B.value)?(i(),n("div",{key:0,class:"absolute left-0 right-0 z-20 pointer-events-none",style:I({top:F(B.value)+"px"})},[...r[5]||(r[5]=[s("div",{class:"flex items-center"},[s("div",{class:"w-2 h-2 bg-red-500 rounded-full -ml-1"}),s("div",{class:"flex-1 h-0.5 bg-red-500"})],-1)])],4)):g("",!0),s("div",dt,[(i(!0),n(v,null,_(R(e.date),o=>(i(),n("div",{key:o.id,onClick:A(d=>O(o),["stop"]),class:y(["absolute left-1 right-1 rounded cursor-pointer p-1.5 text-xs touch-manipulation border-l-2 shadow-sm z-10",[o.status==="completed"?"bg-gray-100 text-gray-500 line-through border-gray-300":$(o)+" text-primary-700 border-primary-500"]]),style:I(ee(o,B.value))},[s("div",ct,l(o.title),1),o.estimated_time||o.end_time?(i(),n("div",mt,[o.estimated_time&&o.end_time?(i(),n("span",pt,l(m(o.estimated_time))+" - "+l(m(o.end_time)),1)):o.end_time?(i(),n("span",gt," до "+l(m(o.end_time)),1)):o.estimated_time?(i(),n("span",yt,l(m(o.estimated_time)),1)):g("",!0)])):g("",!0)],14,ut))),128))])])],2))),128))]),s("div",ht,[r[6]||(r[6]=s("div",{class:"border-r border-gray-200 bg-gray-50 p-2"},[s("span",{class:"text-xs text-gray-500"},"Без времени")],-1)),(i(!0),n(v,null,_(j.value,(e,a)=>(i(),n("div",{key:a,class:y(["border-r border-gray-200 last:border-r-0 p-2",{"bg-primary-50/30":e.isToday}])},[s("div",vt,[(i(!0),n(v,null,_(ge(e.date),o=>(i(),n("div",{key:o.id,onClick:A(d=>O(o),["stop"]),class:y(["p-1.5 rounded cursor-pointer text-xs touch-manipulation border-l-2 w-full max-w-full overflow-hidden",[o.status==="completed"?"bg-gray-100 text-gray-500 line-through border-gray-300":$(o)+" text-primary-700 border-primary-500"]])},[s("div",xt,l(o.title),1)],10,_t))),128))])],2))),128))])]),s("div",ft,[s("div",bt,[(i(!0),n(v,null,_(j.value,(e,a)=>(i(),n("div",{key:a,class:y(["w-[280px] min-w-[280px] border-r border-gray-200 last:border-r-0 p-3",{"bg-primary-50":e.isToday}])},[s("div",wt,[s("div",Mt,l(W[a]),1),s("span",{class:y(["text-base font-semibold",{"text-primary-700":e.isToday,"text-gray-900":!e.isToday}])},l(e.day)+" "+l(e.monthName),3)]),s("div",Yt,[(i(!0),n(v,null,_(e.tasks,o=>(i(),n("div",{key:o.id,onClick:d=>O(o),class:y(["p-3 rounded-lg cursor-pointer touch-manipulation border-l-4",[o.status==="completed"?"bg-gray-100 text-gray-500 line-through border-gray-300":$(o)+" text-primary-700 border-primary-500"]])},[s("div",Dt,l(o.title),1),o.estimated_time||o.end_time?(i(),n("div",Ct,[r[7]||(r[7]=Ce(" ⏱ ",-1)),o.estimated_time&&o.end_time?(i(),n("span",St,l(m(o.estimated_time))+" - "+l(m(o.end_time)),1)):o.estimated_time?(i(),n("span",$t,l(m(o.estimated_time)),1)):o.end_time?(i(),n("span",Ot," до "+l(m(o.end_time)),1)):g("",!0)])):g("",!0)],10,Tt))),128)),e.tasks.length===0?(i(),n("div",Ht," Нет задач ")):g("",!0)])],2))),128))])])])):g("",!0),c.value==="day"?(i(),n("div",kt,[s("div",jt,[s("h3",Nt,l(u.value.format("D MMMM YYYY")),1)]),s("div",Bt,[s("div",At,[s("div",Et,[(i(!0),n(v,null,_(N.value,e=>(i(),n("div",{key:e,class:"h-16 border-b border-gray-200 flex items-start justify-end pr-2 pt-1"},[s("span",zt,l(Z(e)),1)]))),128))]),s("div",Pt,[s("div",Ft,[(i(!0),n(v,null,_(N.value,e=>(i(),n("div",{key:e,class:"h-16 border-b border-gray-100"}))),128)),u.value.isSame(k(h)(),"day")&&F(N.value)?(i(),n("div",{key:0,class:"absolute left-0 right-0 z-20 pointer-events-none",style:I({top:F(N.value)+"px"})},[...r[8]||(r[8]=[s("div",{class:"flex items-center"},[s("div",{class:"w-2 h-2 bg-red-500 rounded-full -ml-1"}),s("div",{class:"flex-1 h-0.5 bg-red-500"})],-1)])],4)):g("",!0),s("div",It,[(i(!0),n(v,null,_(Q.value,e=>(i(),n("div",{key:e.id,onClick:A(a=>O(e),["stop"]),class:y(["absolute left-2 right-2 rounded-lg cursor-pointer p-2 sm:p-3 border-l-4 shadow-sm z-10 touch-manipulation",[e.status==="completed"?"bg-gray-50 border-gray-300 line-through":$(e)+" border-primary-500"]]),style:I(ee(e,N.value))},[s("div",Wt,l(e.title),1),e.description?(i(),n("div",Gt,l(e.description),1)):g("",!0),s("div",Lt,[e.estimated_time||e.end_time?(i(),n("span",Ut,[H(k(re),{class:"w-3 h-3 mr-1"}),e.estimated_time&&e.end_time?(i(),n("span",qt,l(m(e.estimated_time))+" - "+l(m(e.end_time)),1)):e.estimated_time?(i(),n("span",Jt,l(m(e.estimated_time)),1)):e.end_time?(i(),n("span",Kt," до "+l(m(e.end_time)),1)):g("",!0)])):g("",!0),s("span",{class:y(["text-xs px-2 py-0.5 rounded-full",{"bg-red-100 text-red-700":e.priority==="urgent","bg-primary-100 text-primary-700":e.priority==="high","bg-yellow-100 text-yellow-700":e.priority==="medium","bg-gray-100 text-gray-700":e.priority==="low"}])},l(L(e.priority)),3)])],14,Vt))),128))])])])]),s("div",Qt,[r[9]||(r[9]=s("div",{class:"border-r border-gray-200 bg-gray-50 p-3"},[s("span",{class:"text-xs text-gray-500 font-medium"},"Без времени")],-1)),s("div",Xt,[s("div",Zt,[(i(!0),n(v,null,_(ue.value,e=>(i(),n("div",{key:e.id,onClick:A(a=>O(e),["stop"]),class:y(["p-3 rounded-lg cursor-pointer border-l-4 touch-manipulation",[e.status==="completed"?"bg-gray-50 border-gray-300 line-through":$(e)+" border-primary-500"]])},[s("div",er,l(e.title),1),e.description?(i(),n("div",tr,l(e.description),1)):g("",!0),s("div",rr,[s("span",{class:y(["text-xs px-2 py-0.5 rounded-full",{"bg-red-100 text-red-700":e.priority==="urgent","bg-primary-100 text-primary-700":e.priority==="high","bg-yellow-100 text-yellow-700":e.priority==="medium","bg-gray-100 text-gray-700":e.priority==="low"}])},l(L(e.priority)),3)])],10,Rt))),128))])])])]),s("div",sr,[s("div",or,[(i(!0),n(v,null,_(P.value,e=>(i(),n("div",{key:e.id,onClick:a=>O(e),class:y(["p-3 sm:p-4 rounded-lg cursor-pointer border-l-4 touch-manipulation active:scale-[0.98] transition-transform",[e.status==="completed"?"bg-gray-50 border-gray-300 line-through":$(e)+" border-primary-500"]])},[s("div",ir,[s("div",ar,[s("div",lr,l(e.title),1),e.description?(i(),n("div",dr,l(e.description),1)):g("",!0),s("div",ur,[e.estimated_time||e.end_time?(i(),n("span",cr,[H(k(re),{class:"w-3 h-3 mr-1"}),e.estimated_time&&e.end_time?(i(),n("span",mr,l(m(e.estimated_time))+" - "+l(m(e.end_time)),1)):e.estimated_time?(i(),n("span",pr,l(m(e.estimated_time)),1)):e.end_time?(i(),n("span",gr," до "+l(m(e.end_time)),1)):g("",!0)])):g("",!0),s("span",{class:y(["text-xs px-2 py-0.5 rounded-full",{"bg-red-100 text-red-700":e.priority==="urgent","bg-primary-100 text-primary-700":e.priority==="high","bg-yellow-100 text-yellow-700":e.priority==="medium","bg-gray-100 text-gray-700":e.priority==="low"}])},l(L(e.priority)),3)])])])],10,nr))),128)),P.value.length===0?(i(),n("div",yr," Нет задач на этот день ")):g("",!0)])])])):g("",!0),H($e,{show:b.value,task:f.value,"server-error":E.value,"default-date":z.value,onClose:xe,onSubmit:_e},null,8,["show","task","server-error","default-date"])])]))}},Tr=Oe(hr,[["__scopeId","data-v-eafa117a"]]);export{Tr as default};
