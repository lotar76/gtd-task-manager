import{r as m,B as p,l as w,o as c,f as B,g as C,c as b,b as x,a as t,w as v,t as f,d as i,v as n,T as j,C as V}from"./index-C08jv159.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex min-h-screen items-center justify-center p-4"},F={class:"flex items-center justify-between p-6 border-b border-gray-200"},S={class:"text-xl font-semibold text-gray-900"},T={class:"flex items-center space-x-3"},U={key:0,class:"text-red-600 text-sm bg-red-50 p-3 rounded-lg"},N={class:"flex justify-end space-x-3 pt-4"},h=["disabled"],D={__name:"ProjectModal",props:{show:{type:Boolean,default:!1},project:{type:Object,default:null},serverError:{type:String,default:""}},emits:["close","submit"],setup(d,{emit:y}){const u=d,g=y,l=m({name:"",description:"",color:"#3B82F6"}),r=m(!1),a=m("");p(()=>u.project,o=>{o?l.value={name:o.name||"",description:o.description||"",color:o.color||"#3B82F6"}:l.value={name:"",description:"",color:"#3B82F6"},a.value=""},{immediate:!0}),p(()=>u.show,o=>{o||(r.value=!1,a.value="")}),p(()=>u.serverError,o=>{a.value=o,o&&(r.value=!1)});const k=()=>{a.value="",r.value=!0,g("submit",l.value)};return(o,e)=>(c(),w(V,{to:"body"},[B(j,{name:"modal"},{default:C(()=>[d.show?(c(),b("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:e[7]||(e[7]=v(s=>o.$emit("close"),["self"]))},[e[12]||(e[12]=t("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),t("div",M,[t("div",{class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full mx-auto",onClick:e[6]||(e[6]=v(()=>{},["stop"]))},[t("div",F,[t("h3",S,f(d.project?"Редактировать проект":"Новый проект"),1),t("button",{onClick:e[0]||(e[0]=s=>o.$emit("close")),class:"text-gray-400 hover:text-gray-600"},[...e[8]||(e[8]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:v(k,["prevent"]),class:"p-6 space-y-4"},[t("div",null,[e[9]||(e[9]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Название проекта * ",-1)),i(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=s=>l.value.name=s),type:"text",required:"",class:"input",placeholder:"Введите название проекта"},null,512),[[n,l.value.name]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Описание ",-1)),i(t("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=s=>l.value.description=s),rows:"3",class:"input",placeholder:"Добавьте описание проекта"},null,512),[[n,l.value.description]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"color",class:"block text-sm font-medium text-gray-700 mb-2"}," Цвет ",-1)),t("div",T,[i(t("input",{id:"color","onUpdate:modelValue":e[3]||(e[3]=s=>l.value.color=s),type:"color",class:"w-16 h-10 rounded border border-gray-300 cursor-pointer"},null,512),[[n,l.value.color]]),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.color=s),type:"text",pattern:"^#[0-9A-Fa-f]{6}$",class:"input flex-1",placeholder:"#3B82F6"},null,512),[[n,l.value.color]])])]),a.value?(c(),b("div",U,f(a.value),1)):x("",!0),t("div",N,[t("button",{type:"button",onClick:e[5]||(e[5]=s=>o.$emit("close")),class:"btn btn-secondary"}," Отмена "),t("button",{type:"submit",disabled:r.value,class:"btn btn-primary"},f(r.value?"Сохранение...":"Сохранить"),9,h)])],32)])])])):x("",!0)]),_:1})]))}},z=$(D,[["__scopeId","data-v-ef45afb2"]]);export{z as P};
