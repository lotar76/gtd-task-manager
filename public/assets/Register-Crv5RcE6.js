import{u as y,r as u,c as m,a as t,w,b as g,d as r,v as i,t as p,e as v,f as _,g as k,h as V,i as S,o as f}from"./index-k8OeIxN1.js";const q={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 px-4"},D={class:"max-w-md w-full"},N={class:"card"},T={key:0,class:"text-red-600 text-sm bg-red-50 p-3 rounded-lg"},U=["disabled"],h={class:"mt-6 text-center"},B={class:"text-sm text-gray-600"},M={__name:"Register",setup(C){const c=S(),x=y(),s=u({name:"",email:"",password:"",password_confirmation:""}),l=u(""),o=u(!1),b=async()=>{var n,e;if(l.value="",s.value.password!==s.value.password_confirmation){l.value="Пароли не совпадают";return}o.value=!0;try{await x.register(s.value),c.push("/")}catch(d){l.value=((e=(n=d.response)==null?void 0:n.data)==null?void 0:e.message)||"Ошибка регистрации"}finally{o.value=!1}};return(n,e)=>{const d=V("router-link");return f(),m("div",q,[t("div",D,[t("div",N,[e[10]||(e[10]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"GTD TODO"),t("p",{class:"text-gray-600 mt-2"},"Создайте свой аккаунт")],-1)),t("form",{onSubmit:w(b,["prevent"]),class:"space-y-6"},[t("div",null,[e[4]||(e[4]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Имя ",-1)),r(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>s.value.name=a),type:"text",required:"",class:"input",placeholder:"Ваше имя"},null,512),[[i,s.value.name]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),r(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),type:"email",required:"",class:"input",placeholder:"example@email.com"},null,512),[[i,s.value.email]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Пароль ",-1)),r(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=a=>s.value.password=a),type:"password",required:"",minlength:"8",class:"input",placeholder:"••••••••"},null,512),[[i,s.value.password]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-2"}," Подтверждение пароля ",-1)),r(t("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=a=>s.value.password_confirmation=a),type:"password",required:"",class:"input",placeholder:"••••••••"},null,512),[[i,s.value.password_confirmation]])]),l.value?(f(),m("div",T,p(l.value),1)):g("",!0),t("button",{type:"submit",disabled:o.value,class:"w-full btn btn-primary"},p(o.value?"Регистрация...":"Зарегистрироваться"),9,U)],32),t("div",h,[t("p",B,[e[9]||(e[9]=v(" Уже есть аккаунт? ",-1)),_(d,{to:"/login",class:"text-primary-600 hover:text-primary-700 font-medium"},{default:k(()=>[...e[8]||(e[8]=[v(" Войти ",-1)])]),_:1})])])])])])}}};export{M as default};
