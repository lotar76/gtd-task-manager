import{u as S}from"./workspace-CoKcgfuB.js";import{r as u,z as k,s as H,c as l,a as e,b as c,t as o,F as p,C as y,D as f,p as w,e as V,E as G,o as n}from"./index-BM-3aGKM.js";const Z={class:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"},$={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},z={class:"mb-8"},B={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},D={class:"text-sm text-gray-500 dark:text-gray-400"},N={class:"inline-flex rounded-lg shadow-sm",role:"group"},W=["onClick"],A={key:0,class:"mb-8 relative overflow-hidden rounded-2xl bg-gradient-to-r from-purple-600 via-pink-500 to-orange-500 p-8 shadow-xl"},R={class:"relative z-10"},L={class:"flex items-center justify-between"},F={class:"text-2xl font-bold text-white mb-2"},E={class:"text-white/90 text-lg"},J={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},T={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow duration-200"},U={class:"flex items-center justify-between mb-4"},Q={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},X={class:"flex items-end justify-between h-12 gap-1"},K=["title"],Y={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow duration-200"},O={class:"flex items-center justify-between mb-4"},q={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},ee={class:"flex items-center text-sm"},te={class:"text-orange-600 dark:text-orange-400 font-medium"},se={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow duration-200"},re={class:"flex items-center justify-between mb-4"},ae={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},oe={class:"flex items-center text-sm"},le={class:"text-red-600 dark:text-red-400 font-medium"},ne={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow duration-200"},de={class:"flex items-center justify-between mb-4"},ie={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},ue={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden"},ce={key:2,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6"},ge={class:"space-y-3"},ve={class:"flex items-center space-x-3"},me={class:"text-2xl"},xe={class:"flex items-center"},he={class:"font-medium text-gray-900 dark:text-white"},pe={class:"flex items-center space-x-2"},ye={class:"text-sm font-semibold text-gray-900 dark:text-white"},fe={key:3,class:"flex items-center justify-center py-12"},be={key:4,class:"text-center py-12"},je={__name:"Dashboard",setup(ke){const x=S(),b=[{value:"day",label:"–î–µ–Ω—å"},{value:"week",label:"–ù–µ–¥–µ–ª—è"},{value:"month",label:"–ú–µ—Å—è—Ü"}],d=u("week"),g=u(!1),r=u(null),v=u([]),m=u([]),h=async()=>{var s;if(!((s=x.currentWorkspace)!=null&&s.id)){r.value=null;return}g.value=!0;try{const t=await G.get("/v1/dashboard/stats",{params:{workspace_id:x.currentWorkspace.id,period:d.value}});r.value=t.stats,v.value=t.chart_data||[],m.value=t.top_projects||[]}catch(t){console.error("Failed to fetch dashboard stats:",t)}finally{g.value=!1}},_=s=>{if(!v.value.length)return"0%";const t=Math.max(...v.value.map(a=>a.count),1);return Math.max(s/t*100,10)+"%"},j=()=>{if(!r.value)return"bg-gray-400";const s=r.value.productivity;return s>=80?"bg-green-500":s>=60?"bg-blue-500":s>=40?"bg-orange-500":"bg-red-500"},M=()=>{if(!r.value)return"–ó–∞–≥—Ä—É–∑–∫–∞...";const s=r.value.completed_this_period,t=r.value.productivity;return t>=80?"üéØ –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –¢—ã –Ω–∞ –ø–∏–∫–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏!":t>=60?"üí™ –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!":t>=40?"üëç –•–æ—Ä–æ—à–∏–π —Ç–µ–º–ø! –ï—â—ë –Ω–µ–º–Ω–æ–≥–æ —É—Å–∏–ª–∏–π!":s>0?"üå± –ö–∞–∂–¥–∞—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ - —ç—Ç–æ —à–∞–≥ –≤–ø–µ—Ä—ë–¥!":"üöÄ –í—Ä–µ–º—è –Ω–∞—á–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ!"},I=()=>{var a;const s=((a=b.find(i=>i.value===d.value))==null?void 0:a.label.toLowerCase())||"–ø–µ—Ä–∏–æ–¥";if(!r.value)return`–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ ${s}`;const t=r.value.completed_this_period;return t===0?`–ù–∞—á–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –∑–∞ ${s}`:t===1?`–í—ã–ø–æ–ª–Ω–µ–Ω–∞ 1 –∑–∞–¥–∞—á–∞ –∑–∞ ${s}`:t<5?`–í—ã–ø–æ–ª–Ω–µ–Ω–æ ${t} –∑–∞–¥–∞—á–∏ –∑–∞ ${s}`:`–í—ã–ø–æ–ª–Ω–µ–Ω–æ ${t} –∑–∞–¥–∞—á –∑–∞ ${s}`},C=()=>{if(!r.value)return"";const s=r.value.total_active,t=r.value.week;return d.value==="week"&&t>0?`–ü—Ä–µ–¥—Å—Ç–æ–∏—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å ${t} ${t===1?"–∑–∞–¥–∞—á—É":t<5?"–∑–∞–¥–∞—á–∏":"–∑–∞–¥–∞—á"} –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ`:s>10?"–ë–æ–ª—å—à–∏–µ –ø–ª–∞–Ω—ã —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π! üéØ":s>0?`–í —Ä–∞–±–æ—Ç–µ ${s} ${s===1?"–∑–∞–¥–∞—á–∞":s<5?"–∑–∞–¥–∞—á–∏":"–∑–∞–¥–∞—á"}. –¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è!`:"–û—Ç–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á!"},P=s=>["ü•á","ü•à","ü•â"][s]||"üèÜ";return k(()=>{var s;return(s=x.currentWorkspace)==null?void 0:s.id},()=>{h()},{immediate:!0}),k(d,()=>{h()}),H(()=>{h()}),(s,t)=>(n(),l("div",Z,[e("div",$,[e("div",z,[e("div",B,[e("div",null,[e("p",D,o(I()),1)]),e("div",N,[(n(),l(p,null,y(b,a=>e("button",{key:a.value,onClick:i=>d.value=a.value,type:"button",class:w(["px-4 py-2 text-sm font-medium transition-all duration-200",[d.value===a.value?"bg-primary-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",a.value==="day"?"rounded-l-lg":"",a.value==="month"?"rounded-r-lg":"",a.value==="week"?"border-x border-gray-200 dark:border-gray-700":""]])},o(a.label),11,W)),64))])])]),r.value?(n(),l("div",A,[t[1]||(t[1]=e("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjEiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"},null,-1)),e("div",R,[e("div",L,[e("div",null,[e("h2",F,o(M()),1),e("p",E,o(C()),1)]),t[0]||(t[0]=e("div",{class:"hidden sm:block text-6xl"},"üöÄ",-1))])])])):c("",!0),r.value?(n(),l("div",J,[e("div",T,[e("div",U,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"–í—ã–ø–æ–ª–Ω–µ–Ω–æ",-1)),e("p",Q,o(r.value.completed_this_period),1)]),t[3]||(t[3]=e("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),e("div",X,[(n(!0),l(p,null,y(v.value,(a,i)=>(n(),l("div",{key:i,class:"flex-1 bg-green-200 dark:bg-green-700 rounded-t transition-all duration-200 hover:bg-green-300 dark:hover:bg-green-600",style:f({height:_(a.count)}),title:`${a.date}: ${a.count}`},null,12,K))),128))])]),e("div",Y,[e("div",O,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"–ê–∫—Ç–∏–≤–Ω—ã—Ö",-1)),e("p",q,o(r.value.total_active),1)]),t[5]||(t[5]=e("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))]),e("div",ee,[e("span",te,o(r.value.today),1),t[6]||(t[6]=e("span",{class:"text-gray-500 dark:text-gray-400 ml-1"},"–Ω–∞ —Å–µ–≥–æ–¥–Ω—è",-1))])]),e("div",se,[e("div",re,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"–ù–∞ –Ω–µ–¥–µ–ª—é",-1)),e("p",ae,o(r.value.week),1)]),t[8]||(t[8]=e("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),e("div",oe,[e("span",le,o(r.value.overdue),1),t[9]||(t[9]=e("span",{class:"text-gray-500 dark:text-gray-400 ml-1"},"–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–æ",-1))])]),e("div",ne,[e("div",de,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",-1)),e("p",ie,o(r.value.productivity)+"%",1)]),t[11]||(t[11]=e("div",{class:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1))]),e("div",ue,[e("div",{class:w(["h-full rounded-full transition-all duration-500",j()]),style:f({width:r.value.productivity+"%"})},null,6)])])])):c("",!0),m.value&&m.value.length>0?(n(),l("div",ce,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),V(" –¢–æ–ø –ø—Ä–æ–µ–∫—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥ ")],-1)),e("div",ge,[(n(!0),l(p,null,y(m.value,(a,i)=>(n(),l("div",{key:a.project.id,class:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},[e("div",ve,[e("span",me,o(P(i)),1),e("div",xe,[e("div",{class:"w-3 h-3 rounded-full mr-2",style:f({backgroundColor:a.project.color})},null,4),e("span",he,o(a.project.name),1)])]),e("div",pe,[e("span",ye,o(a.count),1),t[12]||(t[12]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"–∑–∞–¥–∞—á",-1))])]))),128))])])):c("",!0),g.value?(n(),l("div",fe,[...t[14]||(t[14]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)])])):c("",!0),!g.value&&!r.value?(n(),l("div",be,[...t[15]||(t[15]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"–í—ã–±–µ—Ä–∏—Ç–µ workspace –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏",-1)])])):c("",!0)])]))}};export{je as default};
